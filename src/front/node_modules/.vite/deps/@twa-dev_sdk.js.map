{"version":3,"file":"@twa-dev_sdk.js","names":["locationHash","url","key","theme_params","def_colors","val","k"],"sources":["../../@twa-dev/sdk/dist/telegram-web-apps.js","../../@twa-dev/sdk/dist/sdk.js","../../@twa-dev/sdk/dist/index.js"],"sourcesContent":["\"use strict\";\n// WebView\n(function () {\n    var eventHandlers = {};\n    var locationHash = '';\n    try {\n        locationHash = location.hash.toString();\n    }\n    catch (e) { }\n    var initParams = urlParseHashParams(locationHash);\n    var storedParams = sessionStorageGet('initParams');\n    if (storedParams) {\n        for (var key in storedParams) {\n            if (typeof initParams[key] === 'undefined') {\n                initParams[key] = storedParams[key];\n            }\n        }\n    }\n    sessionStorageSet('initParams', initParams);\n    var isIframe = false, iFrameStyle;\n    try {\n        isIframe = (window.parent != null && window != window.parent);\n        if (isIframe) {\n            window.addEventListener('message', function (event) {\n                if (event.source !== window.parent)\n                    return;\n                try {\n                    var dataParsed = JSON.parse(event.data);\n                }\n                catch (e) {\n                    return;\n                }\n                if (!dataParsed || !dataParsed.eventType) {\n                    return;\n                }\n                if (dataParsed.eventType == 'set_custom_style') {\n                    if (event.origin === 'https://web.telegram.org') {\n                        iFrameStyle.innerHTML = dataParsed.eventData;\n                    }\n                }\n                else if (dataParsed.eventType == 'reload_iframe') {\n                    try {\n                        window.parent.postMessage(JSON.stringify({ eventType: 'iframe_will_reload' }), '*');\n                    }\n                    catch (e) { }\n                    location.reload();\n                }\n                else {\n                    receiveEvent(dataParsed.eventType, dataParsed.eventData);\n                }\n            });\n            iFrameStyle = document.createElement('style');\n            document.head.appendChild(iFrameStyle);\n            try {\n                window.parent.postMessage(JSON.stringify({ eventType: 'iframe_ready', eventData: { reload_supported: true } }), '*');\n            }\n            catch (e) { }\n        }\n    }\n    catch (e) { }\n    function urlSafeDecode(urlencoded) {\n        try {\n            urlencoded = urlencoded.replace(/\\+/g, '%20');\n            return decodeURIComponent(urlencoded);\n        }\n        catch (e) {\n            return urlencoded;\n        }\n    }\n    function urlParseHashParams(locationHash) {\n        locationHash = locationHash.replace(/^#/, '');\n        var params = {};\n        if (!locationHash.length) {\n            return params;\n        }\n        if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n            params._path = urlSafeDecode(locationHash);\n            return params;\n        }\n        var qIndex = locationHash.indexOf('?');\n        if (qIndex >= 0) {\n            var pathParam = locationHash.substr(0, qIndex);\n            params._path = urlSafeDecode(pathParam);\n            locationHash = locationHash.substr(qIndex + 1);\n        }\n        var query_params = urlParseQueryString(locationHash);\n        for (var k in query_params) {\n            params[k] = query_params[k];\n        }\n        return params;\n    }\n    function urlParseQueryString(queryString) {\n        var params = {};\n        if (!queryString.length) {\n            return params;\n        }\n        var queryStringParams = queryString.split('&');\n        var i, param, paramName, paramValue;\n        for (i = 0; i < queryStringParams.length; i++) {\n            param = queryStringParams[i].split('=');\n            paramName = urlSafeDecode(param[0]);\n            paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n            params[paramName] = paramValue;\n        }\n        return params;\n    }\n    // Telegram apps will implement this logic to add service params (e.g. tgShareScoreUrl) to game URL\n    function urlAppendHashParams(url, addHash) {\n        // url looks like 'https://game.com/path?query=1#hash'\n        // addHash looks like 'tgShareScoreUrl=' + encodeURIComponent('tgb://share_game_score?hash=very_long_hash123')\n        var ind = url.indexOf('#');\n        if (ind < 0) {\n            // https://game.com/path -> https://game.com/path#tgShareScoreUrl=etc\n            return url + '#' + addHash;\n        }\n        var curHash = url.substr(ind + 1);\n        if (curHash.indexOf('=') >= 0 || curHash.indexOf('?') >= 0) {\n            // https://game.com/#hash=1 -> https://game.com/#hash=1&tgShareScoreUrl=etc\n            // https://game.com/#path?query -> https://game.com/#path?query&tgShareScoreUrl=etc\n            return url + '&' + addHash;\n        }\n        // https://game.com/#hash -> https://game.com/#hash?tgShareScoreUrl=etc\n        if (curHash.length > 0) {\n            return url + '?' + addHash;\n        }\n        // https://game.com/# -> https://game.com/#tgShareScoreUrl=etc\n        return url + addHash;\n    }\n    function postEvent(eventType, callback, eventData) {\n        if (!callback) {\n            callback = function () { };\n        }\n        if (eventData === undefined) {\n            eventData = '';\n        }\n        console.log('[Telegram.WebView] > postEvent', eventType, eventData);\n        if (window.TelegramWebviewProxy !== undefined) {\n            TelegramWebviewProxy.postEvent(eventType, JSON.stringify(eventData));\n            callback();\n        }\n        else if (window.external && 'notify' in window.external) {\n            window.external.notify(JSON.stringify({ eventType: eventType, eventData: eventData }));\n            callback();\n        }\n        else if (isIframe) {\n            try {\n                var trustedTarget = 'https://web.telegram.org';\n                // For now we don't restrict target, for testing purposes\n                trustedTarget = '*';\n                window.parent.postMessage(JSON.stringify({ eventType: eventType, eventData: eventData }), trustedTarget);\n                callback();\n            }\n            catch (e) {\n                callback(e);\n            }\n        }\n        else {\n            callback({ notAvailable: true });\n        }\n    }\n    ;\n    function receiveEvent(eventType, eventData) {\n        console.log('[Telegram.WebView] < receiveEvent', eventType, eventData);\n        callEventCallbacks(eventType, function (callback) {\n            callback(eventType, eventData);\n        });\n    }\n    function callEventCallbacks(eventType, func) {\n        var curEventHandlers = eventHandlers[eventType];\n        if (curEventHandlers === undefined ||\n            !curEventHandlers.length) {\n            return;\n        }\n        for (var i = 0; i < curEventHandlers.length; i++) {\n            try {\n                func(curEventHandlers[i]);\n            }\n            catch (e) { }\n        }\n    }\n    function onEvent(eventType, callback) {\n        if (eventHandlers[eventType] === undefined) {\n            eventHandlers[eventType] = [];\n        }\n        var index = eventHandlers[eventType].indexOf(callback);\n        if (index === -1) {\n            eventHandlers[eventType].push(callback);\n        }\n    }\n    ;\n    function offEvent(eventType, callback) {\n        if (eventHandlers[eventType] === undefined) {\n            return;\n        }\n        var index = eventHandlers[eventType].indexOf(callback);\n        if (index === -1) {\n            return;\n        }\n        eventHandlers[eventType].splice(index, 1);\n    }\n    ;\n    function openProtoUrl(url) {\n        if (!url.match(/^(web\\+)?tgb?:\\/\\/./)) {\n            return false;\n        }\n        var useIframe = navigator.userAgent.match(/iOS|iPhone OS|iPhone|iPod|iPad/i) ? true : false;\n        if (useIframe) {\n            var iframeContEl = document.getElementById('tgme_frame_cont') || document.body;\n            var iframeEl = document.createElement('iframe');\n            iframeContEl.appendChild(iframeEl);\n            var pageHidden = false;\n            var enableHidden = function () {\n                pageHidden = true;\n            };\n            window.addEventListener('pagehide', enableHidden, false);\n            window.addEventListener('blur', enableHidden, false);\n            if (iframeEl !== null) {\n                iframeEl.src = url;\n            }\n            setTimeout(function () {\n                if (!pageHidden) {\n                    window.location = url;\n                }\n                window.removeEventListener('pagehide', enableHidden, false);\n                window.removeEventListener('blur', enableHidden, false);\n            }, 2000);\n        }\n        else {\n            window.location = url;\n        }\n        return true;\n    }\n    function sessionStorageSet(key, value) {\n        try {\n            window.sessionStorage.setItem('__telegram__' + key, JSON.stringify(value));\n            return true;\n        }\n        catch (e) { }\n        return false;\n    }\n    function sessionStorageGet(key) {\n        try {\n            return JSON.parse(window.sessionStorage.getItem('__telegram__' + key));\n        }\n        catch (e) { }\n        return null;\n    }\n    if (!window.Telegram) {\n        window.Telegram = {};\n    }\n    window.Telegram.WebView = {\n        initParams: initParams,\n        isIframe: isIframe,\n        onEvent: onEvent,\n        offEvent: offEvent,\n        postEvent: postEvent,\n        receiveEvent: receiveEvent,\n        callEventCallbacks: callEventCallbacks\n    };\n    window.Telegram.Utils = {\n        urlSafeDecode: urlSafeDecode,\n        urlParseQueryString: urlParseQueryString,\n        urlParseHashParams: urlParseHashParams,\n        urlAppendHashParams: urlAppendHashParams,\n        sessionStorageSet: sessionStorageSet,\n        sessionStorageGet: sessionStorageGet\n    };\n    // For Windows Phone app\n    window.TelegramGameProxy_receiveEvent = receiveEvent;\n    // App backward compatibility\n    window.TelegramGameProxy = {\n        receiveEvent: receiveEvent\n    };\n})();\n// WebApp\n(function () {\n    var Utils = window.Telegram.Utils;\n    var WebView = window.Telegram.WebView;\n    var initParams = WebView.initParams;\n    var isIframe = WebView.isIframe;\n    var WebApp = {};\n    var webAppInitData = '', webAppInitDataUnsafe = {};\n    var themeParams = {}, colorScheme = 'light';\n    var webAppVersion = '6.0';\n    var webAppPlatform = 'unknown';\n    var webAppIsActive = true;\n    var webAppIsFullscreen = false;\n    var webAppIsOrientationLocked = false;\n    var webAppBackgroundColor = 'bg_color';\n    var webAppHeaderColorKey = 'bg_color';\n    var webAppHeaderColor = null;\n    if (initParams.tgWebAppData && initParams.tgWebAppData.length) {\n        webAppInitData = initParams.tgWebAppData;\n        webAppInitDataUnsafe = Utils.urlParseQueryString(webAppInitData);\n        for (var key in webAppInitDataUnsafe) {\n            var val = webAppInitDataUnsafe[key];\n            try {\n                if (val.substr(0, 1) == '{' && val.substr(-1) == '}' ||\n                    val.substr(0, 1) == '[' && val.substr(-1) == ']') {\n                    webAppInitDataUnsafe[key] = JSON.parse(val);\n                }\n            }\n            catch (e) { }\n        }\n    }\n    var stored_theme_params = Utils.sessionStorageGet('themeParams');\n    if (initParams.tgWebAppThemeParams && initParams.tgWebAppThemeParams.length) {\n        var themeParamsRaw = initParams.tgWebAppThemeParams;\n        try {\n            var theme_params = JSON.parse(themeParamsRaw);\n            if (theme_params) {\n                setThemeParams(theme_params);\n            }\n        }\n        catch (e) { }\n    }\n    if (stored_theme_params) {\n        setThemeParams(stored_theme_params);\n    }\n    var stored_def_colors = Utils.sessionStorageGet('defaultColors');\n    if (initParams.tgWebAppDefaultColors && initParams.tgWebAppDefaultColors.length) {\n        var defColorsRaw = initParams.tgWebAppDefaultColors;\n        try {\n            var def_colors = JSON.parse(defColorsRaw);\n            if (def_colors) {\n                setDefaultColors(def_colors);\n            }\n        }\n        catch (e) { }\n    }\n    if (stored_def_colors) {\n        setDefaultColors(stored_def_colors);\n    }\n    if (initParams.tgWebAppVersion) {\n        webAppVersion = initParams.tgWebAppVersion;\n    }\n    if (initParams.tgWebAppPlatform) {\n        webAppPlatform = initParams.tgWebAppPlatform;\n    }\n    var stored_fullscreen = Utils.sessionStorageGet('isFullscreen');\n    if (initParams.tgWebAppFullscreen) {\n        setFullscreen(true);\n    }\n    if (stored_fullscreen) {\n        setFullscreen(stored_fullscreen == 'yes');\n    }\n    var stored_orientation_lock = Utils.sessionStorageGet('isOrientationLocked');\n    if (stored_orientation_lock) {\n        setOrientationLock(stored_orientation_lock == 'yes');\n    }\n    function onThemeChanged(eventType, eventData) {\n        if (eventData.theme_params) {\n            setThemeParams(eventData.theme_params);\n            window.Telegram.WebApp.MainButton.setParams({});\n            window.Telegram.WebApp.SecondaryButton.setParams({});\n            updateHeaderColor();\n            updateBackgroundColor();\n            updateBottomBarColor();\n            receiveWebViewEvent('themeChanged');\n        }\n    }\n    var lastWindowHeight = window.innerHeight;\n    function onViewportChanged(eventType, eventData) {\n        if (eventData.height) {\n            window.removeEventListener('resize', onWindowResize);\n            setViewportHeight(eventData);\n        }\n    }\n    function onWindowResize(e) {\n        if (lastWindowHeight != window.innerHeight) {\n            lastWindowHeight = window.innerHeight;\n            receiveWebViewEvent('viewportChanged', {\n                isStateStable: true\n            });\n        }\n    }\n    function onSafeAreaChanged(eventType, eventData) {\n        if (eventData) {\n            setSafeAreaInset(eventData);\n        }\n    }\n    function onContentSafeAreaChanged(eventType, eventData) {\n        if (eventData) {\n            setContentSafeAreaInset(eventData);\n        }\n    }\n    function onVisibilityChanged(eventType, eventData) {\n        if (eventData.is_visible) {\n            webAppIsActive = true;\n            receiveWebViewEvent('activated');\n        }\n        else {\n            webAppIsActive = false;\n            receiveWebViewEvent('deactivated');\n        }\n    }\n    function linkHandler(e) {\n        if (e.metaKey || e.ctrlKey)\n            return;\n        var el = e.target;\n        while (el.tagName != 'A' && el.parentNode) {\n            el = el.parentNode;\n        }\n        if (el.tagName == 'A' &&\n            el.target != '_blank' &&\n            (el.protocol == 'http:' || el.protocol == 'https:') &&\n            el.hostname == 't.me') {\n            WebApp.openTgLink(el.href);\n            e.preventDefault();\n        }\n    }\n    function strTrim(str) {\n        return str.toString().replace(/^\\s+|\\s+$/g, '');\n    }\n    function receiveWebViewEvent(eventType) {\n        var args = Array.prototype.slice.call(arguments);\n        eventType = args.shift();\n        WebView.callEventCallbacks('webview:' + eventType, function (callback) {\n            callback.apply(WebApp, args);\n        });\n    }\n    function onWebViewEvent(eventType, callback) {\n        WebView.onEvent('webview:' + eventType, callback);\n    }\n    ;\n    function offWebViewEvent(eventType, callback) {\n        WebView.offEvent('webview:' + eventType, callback);\n    }\n    ;\n    function setCssProperty(name, value) {\n        var root = document.documentElement;\n        if (root && root.style && root.style.setProperty) {\n            root.style.setProperty('--tg-' + name, value);\n        }\n    }\n    function setFullscreen(is_fullscreen) {\n        webAppIsFullscreen = !!is_fullscreen;\n        Utils.sessionStorageSet('isFullscreen', webAppIsFullscreen ? 'yes' : 'no');\n    }\n    function setOrientationLock(is_locked) {\n        webAppIsOrientationLocked = !!is_locked;\n        Utils.sessionStorageSet('isOrientationLocked', webAppIsOrientationLocked ? 'yes' : 'no');\n    }\n    function setThemeParams(theme_params) {\n        // temp iOS fix\n        if (theme_params.bg_color == '#1c1c1d' &&\n            theme_params.bg_color == theme_params.secondary_bg_color) {\n            theme_params.secondary_bg_color = '#2c2c2e';\n        }\n        var color;\n        for (var key in theme_params) {\n            if (color = parseColorToHex(theme_params[key])) {\n                themeParams[key] = color;\n                if (key == 'bg_color') {\n                    colorScheme = isColorDark(color) ? 'dark' : 'light';\n                    setCssProperty('color-scheme', colorScheme);\n                }\n                key = 'theme-' + key.split('_').join('-');\n                setCssProperty(key, color);\n            }\n        }\n        Utils.sessionStorageSet('themeParams', themeParams);\n    }\n    function setDefaultColors(def_colors) {\n        if (colorScheme == 'dark') {\n            if (def_colors.bg_dark_color) {\n                webAppBackgroundColor = def_colors.bg_dark_color;\n            }\n            if (def_colors.header_dark_color) {\n                webAppHeaderColorKey = null;\n                webAppHeaderColor = def_colors.header_dark_color;\n            }\n        }\n        else {\n            if (def_colors.bg_color) {\n                webAppBackgroundColor = def_colors.bg_color;\n            }\n            if (def_colors.header_color) {\n                webAppHeaderColorKey = null;\n                webAppHeaderColor = def_colors.header_color;\n            }\n        }\n        Utils.sessionStorageSet('defaultColors', def_colors);\n    }\n    var webAppCallbacks = {};\n    function generateCallbackId(len) {\n        var tries = 100;\n        while (--tries) {\n            var id = '', chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789', chars_len = chars.length;\n            for (var i = 0; i < len; i++) {\n                id += chars[Math.floor(Math.random() * chars_len)];\n            }\n            if (!webAppCallbacks[id]) {\n                webAppCallbacks[id] = {};\n                return id;\n            }\n        }\n        throw Error('WebAppCallbackIdGenerateFailed');\n    }\n    var viewportHeight = false, viewportStableHeight = false, isExpanded = true;\n    function setViewportHeight(data) {\n        if (typeof data !== 'undefined') {\n            isExpanded = !!data.is_expanded;\n            viewportHeight = data.height;\n            if (data.is_state_stable) {\n                viewportStableHeight = data.height;\n            }\n            receiveWebViewEvent('viewportChanged', {\n                isStateStable: !!data.is_state_stable\n            });\n        }\n        var height, stable_height;\n        if (viewportHeight !== false) {\n            height = (viewportHeight - bottomBarHeight) + 'px';\n        }\n        else {\n            height = bottomBarHeight ? 'calc(100vh - ' + bottomBarHeight + 'px)' : '100vh';\n        }\n        if (viewportStableHeight !== false) {\n            stable_height = (viewportStableHeight - bottomBarHeight) + 'px';\n        }\n        else {\n            stable_height = bottomBarHeight ? 'calc(100vh - ' + bottomBarHeight + 'px)' : '100vh';\n        }\n        setCssProperty('viewport-height', height);\n        setCssProperty('viewport-stable-height', stable_height);\n    }\n    var safeAreaInset = { top: 0, bottom: 0, left: 0, right: 0 };\n    function setSafeAreaInset(data) {\n        if (typeof data !== 'undefined') {\n            if (typeof data.top !== 'undefined') {\n                safeAreaInset.top = data.top;\n            }\n            if (typeof data.bottom !== 'undefined') {\n                safeAreaInset.bottom = data.bottom;\n            }\n            if (typeof data.left !== 'undefined') {\n                safeAreaInset.left = data.left;\n            }\n            if (typeof data.right !== 'undefined') {\n                safeAreaInset.right = data.right;\n            }\n            receiveWebViewEvent('safeAreaChanged');\n        }\n        setCssProperty('safe-area-inset-top', safeAreaInset.top + 'px');\n        setCssProperty('safe-area-inset-bottom', safeAreaInset.bottom + 'px');\n        setCssProperty('safe-area-inset-left', safeAreaInset.left + 'px');\n        setCssProperty('safe-area-inset-right', safeAreaInset.right + 'px');\n    }\n    var contentSafeAreaInset = { top: 0, bottom: 0, left: 0, right: 0 };\n    function setContentSafeAreaInset(data) {\n        if (typeof data !== 'undefined') {\n            if (typeof data.top !== 'undefined') {\n                contentSafeAreaInset.top = data.top;\n            }\n            if (typeof data.bottom !== 'undefined') {\n                contentSafeAreaInset.bottom = data.bottom;\n            }\n            if (typeof data.left !== 'undefined') {\n                contentSafeAreaInset.left = data.left;\n            }\n            if (typeof data.right !== 'undefined') {\n                contentSafeAreaInset.right = data.right;\n            }\n            receiveWebViewEvent('contentSafeAreaChanged');\n        }\n        setCssProperty('content-safe-area-inset-top', contentSafeAreaInset.top + 'px');\n        setCssProperty('content-safe-area-inset-bottom', contentSafeAreaInset.bottom + 'px');\n        setCssProperty('content-safe-area-inset-left', contentSafeAreaInset.left + 'px');\n        setCssProperty('content-safe-area-inset-right', contentSafeAreaInset.right + 'px');\n    }\n    var isClosingConfirmationEnabled = false;\n    function setClosingConfirmation(need_confirmation) {\n        if (!versionAtLeast('6.2')) {\n            console.warn('[Telegram.WebApp] Closing confirmation is not supported in version ' + webAppVersion);\n            return;\n        }\n        isClosingConfirmationEnabled = !!need_confirmation;\n        WebView.postEvent('web_app_setup_closing_behavior', false, { need_confirmation: isClosingConfirmationEnabled });\n    }\n    var isVerticalSwipesEnabled = true;\n    function toggleVerticalSwipes(enable_swipes) {\n        if (!versionAtLeast('7.7')) {\n            console.warn('[Telegram.WebApp] Changing swipes behavior is not supported in version ' + webAppVersion);\n            return;\n        }\n        isVerticalSwipesEnabled = !!enable_swipes;\n        WebView.postEvent('web_app_setup_swipe_behavior', false, { allow_vertical_swipe: isVerticalSwipesEnabled });\n    }\n    function onFullscreenChanged(eventType, eventData) {\n        setFullscreen(eventData.is_fullscreen);\n        receiveWebViewEvent('fullscreenChanged');\n    }\n    function onFullscreenFailed(eventType, eventData) {\n        if (eventData.error == 'ALREADY_FULLSCREEN' && !webAppIsFullscreen) {\n            setFullscreen(true);\n        }\n        receiveWebViewEvent('fullscreenFailed', {\n            error: eventData.error\n        });\n    }\n    function toggleOrientationLock(locked) {\n        if (!versionAtLeast('8.0')) {\n            console.warn('[Telegram.WebApp] Orientation locking is not supported in version ' + webAppVersion);\n            return;\n        }\n        setOrientationLock(locked);\n        WebView.postEvent('web_app_toggle_orientation_lock', false, { locked: webAppIsOrientationLocked });\n    }\n    var homeScreenCallbacks = [];\n    function onHomeScreenAdded(eventType, eventData) {\n        receiveWebViewEvent('homeScreenAdded');\n    }\n    function onHomeScreenChecked(eventType, eventData) {\n        var status = eventData.status || 'unknown';\n        if (homeScreenCallbacks.length > 0) {\n            for (var i = 0; i < homeScreenCallbacks.length; i++) {\n                var callback = homeScreenCallbacks[i];\n                callback(status);\n            }\n            homeScreenCallbacks = [];\n        }\n        receiveWebViewEvent('homeScreenChecked', {\n            status: status\n        });\n    }\n    var WebAppShareMessageOpened = false;\n    function onPreparedMessageSent(eventType, eventData) {\n        if (WebAppShareMessageOpened) {\n            var requestData = WebAppShareMessageOpened;\n            WebAppShareMessageOpened = false;\n            if (requestData.callback) {\n                requestData.callback(true);\n            }\n            receiveWebViewEvent('shareMessageSent');\n        }\n    }\n    function onPreparedMessageFailed(eventType, eventData) {\n        if (WebAppShareMessageOpened) {\n            var requestData = WebAppShareMessageOpened;\n            WebAppShareMessageOpened = false;\n            if (requestData.callback) {\n                requestData.callback(false);\n            }\n            receiveWebViewEvent('shareMessageFailed', {\n                error: eventData.error\n            });\n        }\n    }\n    var WebAppEmojiStatusRequested = false;\n    function onEmojiStatusSet(eventType, eventData) {\n        if (WebAppEmojiStatusRequested) {\n            var requestData = WebAppEmojiStatusRequested;\n            WebAppEmojiStatusRequested = false;\n            if (requestData.callback) {\n                requestData.callback(true);\n            }\n            receiveWebViewEvent('emojiStatusSet');\n        }\n    }\n    function onEmojiStatusFailed(eventType, eventData) {\n        if (WebAppEmojiStatusRequested) {\n            var requestData = WebAppEmojiStatusRequested;\n            WebAppEmojiStatusRequested = false;\n            if (requestData.callback) {\n                requestData.callback(false);\n            }\n            receiveWebViewEvent('emojiStatusFailed', {\n                error: eventData.error\n            });\n        }\n    }\n    var WebAppEmojiStatusAccessRequested = false;\n    function onEmojiStatusAccessRequested(eventType, eventData) {\n        if (WebAppEmojiStatusAccessRequested) {\n            var requestData = WebAppEmojiStatusAccessRequested;\n            WebAppEmojiStatusAccessRequested = false;\n            if (requestData.callback) {\n                requestData.callback(eventData.status == 'allowed');\n            }\n            receiveWebViewEvent('emojiStatusAccessRequested', {\n                status: eventData.status\n            });\n        }\n    }\n    var webAppPopupOpened = false;\n    function onPopupClosed(eventType, eventData) {\n        if (webAppPopupOpened) {\n            var popupData = webAppPopupOpened;\n            webAppPopupOpened = false;\n            var button_id = null;\n            if (typeof eventData.button_id !== 'undefined') {\n                button_id = eventData.button_id;\n            }\n            if (popupData.callback) {\n                popupData.callback(button_id);\n            }\n            receiveWebViewEvent('popupClosed', {\n                button_id: button_id\n            });\n        }\n    }\n    function getHeaderColor() {\n        if (webAppHeaderColorKey == 'secondary_bg_color') {\n            return themeParams.secondary_bg_color;\n        }\n        else if (webAppHeaderColorKey == 'bg_color') {\n            return themeParams.bg_color;\n        }\n        return webAppHeaderColor;\n    }\n    function setHeaderColor(color) {\n        if (!versionAtLeast('6.1')) {\n            console.warn('[Telegram.WebApp] Header color is not supported in version ' + webAppVersion);\n            return;\n        }\n        if (!versionAtLeast('6.9')) {\n            if (themeParams.bg_color &&\n                themeParams.bg_color == color) {\n                color = 'bg_color';\n            }\n            else if (themeParams.secondary_bg_color &&\n                themeParams.secondary_bg_color == color) {\n                color = 'secondary_bg_color';\n            }\n        }\n        var head_color = null, color_key = null;\n        if (color == 'bg_color' || color == 'secondary_bg_color') {\n            color_key = color;\n        }\n        else if (versionAtLeast('6.9')) {\n            head_color = parseColorToHex(color);\n            if (!head_color) {\n                console.error('[Telegram.WebApp] Header color format is invalid', color);\n                throw Error('WebAppHeaderColorInvalid');\n            }\n        }\n        if (!versionAtLeast('6.9') &&\n            color_key != 'bg_color' &&\n            color_key != 'secondary_bg_color') {\n            console.error('[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, \\'bg_color\\', \\'secondary_bg_color\\'', color);\n            throw Error('WebAppHeaderColorKeyInvalid');\n        }\n        webAppHeaderColorKey = color_key;\n        webAppHeaderColor = head_color;\n        updateHeaderColor();\n    }\n    var appHeaderColorKey = null, appHeaderColor = null;\n    function updateHeaderColor() {\n        if (appHeaderColorKey != webAppHeaderColorKey ||\n            appHeaderColor != webAppHeaderColor) {\n            appHeaderColorKey = webAppHeaderColorKey;\n            appHeaderColor = webAppHeaderColor;\n            if (appHeaderColor) {\n                WebView.postEvent('web_app_set_header_color', false, { color: webAppHeaderColor });\n            }\n            else {\n                WebView.postEvent('web_app_set_header_color', false, { color_key: webAppHeaderColorKey });\n            }\n        }\n    }\n    function getBackgroundColor() {\n        if (webAppBackgroundColor == 'secondary_bg_color') {\n            return themeParams.secondary_bg_color;\n        }\n        else if (webAppBackgroundColor == 'bg_color') {\n            return themeParams.bg_color;\n        }\n        return webAppBackgroundColor;\n    }\n    function setBackgroundColor(color) {\n        if (!versionAtLeast('6.1')) {\n            console.warn('[Telegram.WebApp] Background color is not supported in version ' + webAppVersion);\n            return;\n        }\n        var bg_color;\n        if (color == 'bg_color' || color == 'secondary_bg_color') {\n            bg_color = color;\n        }\n        else {\n            bg_color = parseColorToHex(color);\n            if (!bg_color) {\n                console.error('[Telegram.WebApp] Background color format is invalid', color);\n                throw Error('WebAppBackgroundColorInvalid');\n            }\n        }\n        webAppBackgroundColor = bg_color;\n        updateBackgroundColor();\n    }\n    var appBackgroundColor = null;\n    function updateBackgroundColor() {\n        var color = getBackgroundColor();\n        if (appBackgroundColor != color) {\n            appBackgroundColor = color;\n            WebView.postEvent('web_app_set_background_color', false, { color: color });\n        }\n    }\n    var bottomBarColor = 'bottom_bar_bg_color';\n    function getBottomBarColor() {\n        if (bottomBarColor == 'bottom_bar_bg_color') {\n            return themeParams.bottom_bar_bg_color || themeParams.secondary_bg_color || '#ffffff';\n        }\n        else if (bottomBarColor == 'secondary_bg_color') {\n            return themeParams.secondary_bg_color;\n        }\n        else if (bottomBarColor == 'bg_color') {\n            return themeParams.bg_color;\n        }\n        return bottomBarColor;\n    }\n    function setBottomBarColor(color) {\n        if (!versionAtLeast('7.10')) {\n            console.warn('[Telegram.WebApp] Bottom bar color is not supported in version ' + webAppVersion);\n            return;\n        }\n        var bg_color;\n        if (color == 'bg_color' || color == 'secondary_bg_color' || color == 'bottom_bar_bg_color') {\n            bg_color = color;\n        }\n        else {\n            bg_color = parseColorToHex(color);\n            if (!bg_color) {\n                console.error('[Telegram.WebApp] Bottom bar color format is invalid', color);\n                throw Error('WebAppBottomBarColorInvalid');\n            }\n        }\n        bottomBarColor = bg_color;\n        updateBottomBarColor();\n        window.Telegram.WebApp.SecondaryButton.setParams({});\n    }\n    var appBottomBarColor = null;\n    function updateBottomBarColor() {\n        var color = getBottomBarColor();\n        if (appBottomBarColor != color) {\n            appBottomBarColor = color;\n            WebView.postEvent('web_app_set_bottom_bar_color', false, { color: color });\n        }\n        if (initParams.tgWebAppDebug) {\n            updateDebugBottomBar();\n        }\n    }\n    function parseColorToHex(color) {\n        color += '';\n        var match;\n        if (match = /^\\s*#([0-9a-f]{6})\\s*$/i.exec(color)) {\n            return '#' + match[1].toLowerCase();\n        }\n        else if (match = /^\\s*#([0-9a-f])([0-9a-f])([0-9a-f])\\s*$/i.exec(color)) {\n            return ('#' + match[1] + match[1] + match[2] + match[2] + match[3] + match[3]).toLowerCase();\n        }\n        else if (match = /^\\s*rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+\\.{0,1}\\d*))?\\)\\s*$/.exec(color)) {\n            var r = parseInt(match[1]), g = parseInt(match[2]), b = parseInt(match[3]);\n            r = (r < 16 ? '0' : '') + r.toString(16);\n            g = (g < 16 ? '0' : '') + g.toString(16);\n            b = (b < 16 ? '0' : '') + b.toString(16);\n            return '#' + r + g + b;\n        }\n        return false;\n    }\n    function isColorDark(rgb) {\n        rgb = rgb.replace(/[\\s#]/g, '');\n        if (rgb.length == 3) {\n            rgb = rgb[0] + rgb[0] + rgb[1] + rgb[1] + rgb[2] + rgb[2];\n        }\n        var r = parseInt(rgb.substr(0, 2), 16);\n        var g = parseInt(rgb.substr(2, 2), 16);\n        var b = parseInt(rgb.substr(4, 2), 16);\n        var hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\n        return hsp < 120;\n    }\n    function versionCompare(v1, v2) {\n        if (typeof v1 !== 'string')\n            v1 = '';\n        if (typeof v2 !== 'string')\n            v2 = '';\n        v1 = v1.replace(/^\\s+|\\s+$/g, '').split('.');\n        v2 = v2.replace(/^\\s+|\\s+$/g, '').split('.');\n        var a = Math.max(v1.length, v2.length), i, p1, p2;\n        for (i = 0; i < a; i++) {\n            p1 = parseInt(v1[i]) || 0;\n            p2 = parseInt(v2[i]) || 0;\n            if (p1 == p2)\n                continue;\n            if (p1 > p2)\n                return 1;\n            return -1;\n        }\n        return 0;\n    }\n    function versionAtLeast(ver) {\n        return versionCompare(webAppVersion, ver) >= 0;\n    }\n    function byteLength(str) {\n        if (window.Blob) {\n            try {\n                return new Blob([str]).size;\n            }\n            catch (e) { }\n        }\n        var s = str.length;\n        for (var i = str.length - 1; i >= 0; i--) {\n            var code = str.charCodeAt(i);\n            if (code > 0x7f && code <= 0x7ff)\n                s++;\n            else if (code > 0x7ff && code <= 0xffff)\n                s += 2;\n            if (code >= 0xdc00 && code <= 0xdfff)\n                i--;\n        }\n        return s;\n    }\n    var BackButton = (function () {\n        var isVisible = false;\n        var backButton = {};\n        Object.defineProperty(backButton, 'isVisible', {\n            set: function (val) { setParams({ is_visible: val }); },\n            get: function () { return isVisible; },\n            enumerable: true\n        });\n        var curButtonState = null;\n        WebView.onEvent('back_button_pressed', onBackButtonPressed);\n        function onBackButtonPressed() {\n            receiveWebViewEvent('backButtonClicked');\n        }\n        function buttonParams() {\n            return { is_visible: isVisible };\n        }\n        function buttonState(btn_params) {\n            if (typeof btn_params === 'undefined') {\n                btn_params = buttonParams();\n            }\n            return JSON.stringify(btn_params);\n        }\n        function buttonCheckVersion() {\n            if (!versionAtLeast('6.1')) {\n                console.warn('[Telegram.WebApp] BackButton is not supported in version ' + webAppVersion);\n                return false;\n            }\n            return true;\n        }\n        function updateButton() {\n            var btn_params = buttonParams();\n            var btn_state = buttonState(btn_params);\n            if (curButtonState === btn_state) {\n                return;\n            }\n            curButtonState = btn_state;\n            WebView.postEvent('web_app_setup_back_button', false, btn_params);\n        }\n        function setParams(params) {\n            if (!buttonCheckVersion()) {\n                return backButton;\n            }\n            if (typeof params.is_visible !== 'undefined') {\n                isVisible = !!params.is_visible;\n            }\n            updateButton();\n            return backButton;\n        }\n        backButton.onClick = function (callback) {\n            if (buttonCheckVersion()) {\n                onWebViewEvent('backButtonClicked', callback);\n            }\n            return backButton;\n        };\n        backButton.offClick = function (callback) {\n            if (buttonCheckVersion()) {\n                offWebViewEvent('backButtonClicked', callback);\n            }\n            return backButton;\n        };\n        backButton.show = function () {\n            return setParams({ is_visible: true });\n        };\n        backButton.hide = function () {\n            return setParams({ is_visible: false });\n        };\n        return backButton;\n    })();\n    var debugBottomBar = null, debugBottomBarBtns = {}, bottomBarHeight = 0;\n    if (initParams.tgWebAppDebug) {\n        debugBottomBar = document.createElement('tg-bottom-bar');\n        var debugBottomBarStyle = {\n            display: 'flex',\n            gap: '7px',\n            font: '600 14px/18px sans-serif',\n            width: '100%',\n            background: getBottomBarColor(),\n            position: 'fixed',\n            left: '0',\n            right: '0',\n            bottom: '0',\n            margin: '0',\n            padding: '7px',\n            textAlign: 'center',\n            boxSizing: 'border-box',\n            zIndex: '10000'\n        };\n        for (var k in debugBottomBarStyle) {\n            debugBottomBar.style[k] = debugBottomBarStyle[k];\n        }\n        document.addEventListener('DOMContentLoaded', function onDomLoaded(event) {\n            document.removeEventListener('DOMContentLoaded', onDomLoaded);\n            document.body.appendChild(debugBottomBar);\n        });\n        var animStyle = document.createElement('style');\n        animStyle.innerHTML = 'tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:\"\"; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}';\n        debugBottomBar.appendChild(animStyle);\n    }\n    function updateDebugBottomBar() {\n        var mainBtn = debugBottomBarBtns.main._bottomButton;\n        var secondaryBtn = debugBottomBarBtns.secondary._bottomButton;\n        if (mainBtn.isVisible || secondaryBtn.isVisible) {\n            debugBottomBar.style.display = 'flex';\n            bottomBarHeight = 58;\n            if (mainBtn.isVisible && secondaryBtn.isVisible) {\n                if (secondaryBtn.position == 'top') {\n                    debugBottomBar.style.flexDirection = 'column-reverse';\n                    bottomBarHeight += 51;\n                }\n                else if (secondaryBtn.position == 'bottom') {\n                    debugBottomBar.style.flexDirection = 'column';\n                    bottomBarHeight += 51;\n                }\n                else if (secondaryBtn.position == 'left') {\n                    debugBottomBar.style.flexDirection = 'row-reverse';\n                }\n                else if (secondaryBtn.position == 'right') {\n                    debugBottomBar.style.flexDirection = 'row';\n                }\n            }\n        }\n        else {\n            debugBottomBar.style.display = 'none';\n            bottomBarHeight = 0;\n        }\n        debugBottomBar.style.background = getBottomBarColor();\n        if (document.documentElement) {\n            document.documentElement.style.boxSizing = 'border-box';\n            document.documentElement.style.paddingBottom = bottomBarHeight + 'px';\n        }\n        setViewportHeight();\n    }\n    var BottomButtonConstructor = function (type) {\n        var isMainButton = (type == 'main');\n        if (isMainButton) {\n            var setupFnName = 'web_app_setup_main_button';\n            var tgEventName = 'main_button_pressed';\n            var webViewEventName = 'mainButtonClicked';\n            var buttonTextDefault = 'Continue';\n            var buttonColorDefault = function () { return themeParams.button_color || '#2481cc'; };\n            var buttonTextColorDefault = function () { return themeParams.button_text_color || '#ffffff'; };\n        }\n        else {\n            var setupFnName = 'web_app_setup_secondary_button';\n            var tgEventName = 'secondary_button_pressed';\n            var webViewEventName = 'secondaryButtonClicked';\n            var buttonTextDefault = 'Cancel';\n            var buttonColorDefault = function () { return getBottomBarColor(); };\n            var buttonTextColorDefault = function () { return themeParams.button_color || '#2481cc'; };\n        }\n        var isVisible = false;\n        var isActive = true;\n        var hasShineEffect = false;\n        var isProgressVisible = false;\n        var buttonType = type;\n        var buttonText = buttonTextDefault;\n        var buttonColor = false;\n        var buttonTextColor = false;\n        var buttonPosition = 'left';\n        var bottomButton = {};\n        Object.defineProperty(bottomButton, 'type', {\n            get: function () { return buttonType; },\n            enumerable: true\n        });\n        Object.defineProperty(bottomButton, 'text', {\n            set: function (val) { bottomButton.setParams({ text: val }); },\n            get: function () { return buttonText; },\n            enumerable: true\n        });\n        Object.defineProperty(bottomButton, 'color', {\n            set: function (val) { bottomButton.setParams({ color: val }); },\n            get: function () { return buttonColor || buttonColorDefault(); },\n            enumerable: true\n        });\n        Object.defineProperty(bottomButton, 'textColor', {\n            set: function (val) { bottomButton.setParams({ text_color: val }); },\n            get: function () { return buttonTextColor || buttonTextColorDefault(); },\n            enumerable: true\n        });\n        Object.defineProperty(bottomButton, 'isVisible', {\n            set: function (val) { bottomButton.setParams({ is_visible: val }); },\n            get: function () { return isVisible; },\n            enumerable: true\n        });\n        Object.defineProperty(bottomButton, 'isProgressVisible', {\n            get: function () { return isProgressVisible; },\n            enumerable: true\n        });\n        Object.defineProperty(bottomButton, 'isActive', {\n            set: function (val) { bottomButton.setParams({ is_active: val }); },\n            get: function () { return isActive; },\n            enumerable: true\n        });\n        Object.defineProperty(bottomButton, 'hasShineEffect', {\n            set: function (val) { bottomButton.setParams({ has_shine_effect: val }); },\n            get: function () { return hasShineEffect; },\n            enumerable: true\n        });\n        if (!isMainButton) {\n            Object.defineProperty(bottomButton, 'position', {\n                set: function (val) { bottomButton.setParams({ position: val }); },\n                get: function () { return buttonPosition; },\n                enumerable: true\n            });\n        }\n        var curButtonState = null;\n        WebView.onEvent(tgEventName, onBottomButtonPressed);\n        var debugBtn = null;\n        if (initParams.tgWebAppDebug) {\n            debugBtn = document.createElement('tg-bottom-button');\n            var debugBtnStyle = {\n                display: 'none',\n                width: '100%',\n                height: '44px',\n                borderRadius: '0',\n                background: 'no-repeat right center',\n                padding: '13px 15px',\n                textAlign: 'center',\n                boxSizing: 'border-box'\n            };\n            for (var k in debugBtnStyle) {\n                debugBtn.style[k] = debugBtnStyle[k];\n            }\n            debugBottomBar.appendChild(debugBtn);\n            debugBtn.addEventListener('click', onBottomButtonPressed, false);\n            debugBtn._bottomButton = bottomButton;\n            debugBottomBarBtns[type] = debugBtn;\n        }\n        function onBottomButtonPressed() {\n            if (isActive) {\n                receiveWebViewEvent(webViewEventName);\n            }\n        }\n        function buttonParams() {\n            var color = bottomButton.color;\n            var text_color = bottomButton.textColor;\n            if (isVisible) {\n                var params = {\n                    is_visible: true,\n                    is_active: isActive,\n                    is_progress_visible: isProgressVisible,\n                    text: buttonText,\n                    color: color,\n                    text_color: text_color,\n                    has_shine_effect: hasShineEffect && isActive && !isProgressVisible\n                };\n                if (!isMainButton) {\n                    params.position = buttonPosition;\n                }\n            }\n            else {\n                var params = {\n                    is_visible: false\n                };\n            }\n            return params;\n        }\n        function buttonState(btn_params) {\n            if (typeof btn_params === 'undefined') {\n                btn_params = buttonParams();\n            }\n            return JSON.stringify(btn_params);\n        }\n        function updateButton() {\n            var btn_params = buttonParams();\n            var btn_state = buttonState(btn_params);\n            if (curButtonState === btn_state) {\n                return;\n            }\n            curButtonState = btn_state;\n            WebView.postEvent(setupFnName, false, btn_params);\n            if (initParams.tgWebAppDebug) {\n                updateDebugButton(btn_params);\n            }\n        }\n        function updateDebugButton(btn_params) {\n            if (btn_params.is_visible) {\n                debugBtn.style.display = 'block';\n                debugBtn.style.opacity = btn_params.is_active ? '1' : '0.8';\n                debugBtn.style.cursor = btn_params.is_active ? 'pointer' : 'auto';\n                debugBtn.disabled = !btn_params.is_active;\n                debugBtn.innerText = btn_params.text;\n                debugBtn.className = btn_params.has_shine_effect ? 'shine' : '';\n                debugBtn.style.backgroundImage = btn_params.is_progress_visible ? \"url('data:image/svg+xml,\" + encodeURIComponent('<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewport=\"0 0 48 48\" width=\"48px\" height=\"48px\"><circle cx=\"50%\" cy=\"50%\" stroke=\"' + btn_params.text_color + '\" stroke-width=\"2.25\" stroke-linecap=\"round\" fill=\"none\" stroke-dashoffset=\"106\" r=\"9\" stroke-dasharray=\"56.52\" rotate=\"-90\"><animate attributeName=\"stroke-dashoffset\" attributeType=\"XML\" dur=\"360s\" from=\"0\" to=\"12500\" repeatCount=\"indefinite\"></animate><animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" dur=\"1s\" from=\"-90 24 24\" to=\"630 24 24\" repeatCount=\"indefinite\"></animateTransform></circle></svg>') + \"')\" : 'none';\n                debugBtn.style.backgroundColor = btn_params.color;\n                debugBtn.style.color = btn_params.text_color;\n            }\n            else {\n                debugBtn.style.display = 'none';\n            }\n            updateDebugBottomBar();\n        }\n        function setParams(params) {\n            if (typeof params.text !== 'undefined') {\n                var text = strTrim(params.text);\n                if (!text.length) {\n                    console.error('[Telegram.WebApp] Bottom button text is required', params.text);\n                    throw Error('WebAppBottomButtonParamInvalid');\n                }\n                if (text.length > 64) {\n                    console.error('[Telegram.WebApp] Bottom button text is too long', text);\n                    throw Error('WebAppBottomButtonParamInvalid');\n                }\n                buttonText = text;\n            }\n            if (typeof params.color !== 'undefined') {\n                if (params.color === false ||\n                    params.color === null) {\n                    buttonColor = false;\n                }\n                else {\n                    var color = parseColorToHex(params.color);\n                    if (!color) {\n                        console.error('[Telegram.WebApp] Bottom button color format is invalid', params.color);\n                        throw Error('WebAppBottomButtonParamInvalid');\n                    }\n                    buttonColor = color;\n                }\n            }\n            if (typeof params.text_color !== 'undefined') {\n                if (params.text_color === false ||\n                    params.text_color === null) {\n                    buttonTextColor = false;\n                }\n                else {\n                    var text_color = parseColorToHex(params.text_color);\n                    if (!text_color) {\n                        console.error('[Telegram.WebApp] Bottom button text color format is invalid', params.text_color);\n                        throw Error('WebAppBottomButtonParamInvalid');\n                    }\n                    buttonTextColor = text_color;\n                }\n            }\n            if (typeof params.is_visible !== 'undefined') {\n                if (params.is_visible &&\n                    !bottomButton.text.length) {\n                    console.error('[Telegram.WebApp] Bottom button text is required');\n                    throw Error('WebAppBottomButtonParamInvalid');\n                }\n                isVisible = !!params.is_visible;\n            }\n            if (typeof params.has_shine_effect !== 'undefined') {\n                hasShineEffect = !!params.has_shine_effect;\n            }\n            if (!isMainButton && typeof params.position !== 'undefined') {\n                if (params.position != 'left' && params.position != 'right' &&\n                    params.position != 'top' && params.position != 'bottom') {\n                    console.error('[Telegram.WebApp] Bottom button posiition is invalid', params.position);\n                    throw Error('WebAppBottomButtonParamInvalid');\n                }\n                buttonPosition = params.position;\n            }\n            if (typeof params.is_active !== 'undefined') {\n                isActive = !!params.is_active;\n            }\n            updateButton();\n            return bottomButton;\n        }\n        bottomButton.setText = function (text) {\n            return bottomButton.setParams({ text: text });\n        };\n        bottomButton.onClick = function (callback) {\n            onWebViewEvent(webViewEventName, callback);\n            return bottomButton;\n        };\n        bottomButton.offClick = function (callback) {\n            offWebViewEvent(webViewEventName, callback);\n            return bottomButton;\n        };\n        bottomButton.show = function () {\n            return bottomButton.setParams({ is_visible: true });\n        };\n        bottomButton.hide = function () {\n            return bottomButton.setParams({ is_visible: false });\n        };\n        bottomButton.enable = function () {\n            return bottomButton.setParams({ is_active: true });\n        };\n        bottomButton.disable = function () {\n            return bottomButton.setParams({ is_active: false });\n        };\n        bottomButton.showProgress = function (leaveActive) {\n            isActive = !!leaveActive;\n            isProgressVisible = true;\n            updateButton();\n            return bottomButton;\n        };\n        bottomButton.hideProgress = function () {\n            if (!bottomButton.isActive) {\n                isActive = true;\n            }\n            isProgressVisible = false;\n            updateButton();\n            return bottomButton;\n        };\n        bottomButton.setParams = setParams;\n        return bottomButton;\n    };\n    var MainButton = BottomButtonConstructor('main');\n    var SecondaryButton = BottomButtonConstructor('secondary');\n    var SettingsButton = (function () {\n        var isVisible = false;\n        var settingsButton = {};\n        Object.defineProperty(settingsButton, 'isVisible', {\n            set: function (val) { setParams({ is_visible: val }); },\n            get: function () { return isVisible; },\n            enumerable: true\n        });\n        var curButtonState = null;\n        WebView.onEvent('settings_button_pressed', onSettingsButtonPressed);\n        function onSettingsButtonPressed() {\n            receiveWebViewEvent('settingsButtonClicked');\n        }\n        function buttonParams() {\n            return { is_visible: isVisible };\n        }\n        function buttonState(btn_params) {\n            if (typeof btn_params === 'undefined') {\n                btn_params = buttonParams();\n            }\n            return JSON.stringify(btn_params);\n        }\n        function buttonCheckVersion() {\n            if (!versionAtLeast('6.10')) {\n                console.warn('[Telegram.WebApp] SettingsButton is not supported in version ' + webAppVersion);\n                return false;\n            }\n            return true;\n        }\n        function updateButton() {\n            var btn_params = buttonParams();\n            var btn_state = buttonState(btn_params);\n            if (curButtonState === btn_state) {\n                return;\n            }\n            curButtonState = btn_state;\n            WebView.postEvent('web_app_setup_settings_button', false, btn_params);\n        }\n        function setParams(params) {\n            if (!buttonCheckVersion()) {\n                return settingsButton;\n            }\n            if (typeof params.is_visible !== 'undefined') {\n                isVisible = !!params.is_visible;\n            }\n            updateButton();\n            return settingsButton;\n        }\n        settingsButton.onClick = function (callback) {\n            if (buttonCheckVersion()) {\n                onWebViewEvent('settingsButtonClicked', callback);\n            }\n            return settingsButton;\n        };\n        settingsButton.offClick = function (callback) {\n            if (buttonCheckVersion()) {\n                offWebViewEvent('settingsButtonClicked', callback);\n            }\n            return settingsButton;\n        };\n        settingsButton.show = function () {\n            return setParams({ is_visible: true });\n        };\n        settingsButton.hide = function () {\n            return setParams({ is_visible: false });\n        };\n        return settingsButton;\n    })();\n    var HapticFeedback = (function () {\n        var hapticFeedback = {};\n        function triggerFeedback(params) {\n            if (!versionAtLeast('6.1')) {\n                console.warn('[Telegram.WebApp] HapticFeedback is not supported in version ' + webAppVersion);\n                return hapticFeedback;\n            }\n            if (params.type == 'impact') {\n                if (params.impact_style != 'light' &&\n                    params.impact_style != 'medium' &&\n                    params.impact_style != 'heavy' &&\n                    params.impact_style != 'rigid' &&\n                    params.impact_style != 'soft') {\n                    console.error('[Telegram.WebApp] Haptic impact style is invalid', params.impact_style);\n                    throw Error('WebAppHapticImpactStyleInvalid');\n                }\n            }\n            else if (params.type == 'notification') {\n                if (params.notification_type != 'error' &&\n                    params.notification_type != 'success' &&\n                    params.notification_type != 'warning') {\n                    console.error('[Telegram.WebApp] Haptic notification type is invalid', params.notification_type);\n                    throw Error('WebAppHapticNotificationTypeInvalid');\n                }\n            }\n            else if (params.type == 'selection_change') {\n                // no params needed\n            }\n            else {\n                console.error('[Telegram.WebApp] Haptic feedback type is invalid', params.type);\n                throw Error('WebAppHapticFeedbackTypeInvalid');\n            }\n            WebView.postEvent('web_app_trigger_haptic_feedback', false, params);\n            return hapticFeedback;\n        }\n        hapticFeedback.impactOccurred = function (style) {\n            return triggerFeedback({ type: 'impact', impact_style: style });\n        };\n        hapticFeedback.notificationOccurred = function (type) {\n            return triggerFeedback({ type: 'notification', notification_type: type });\n        };\n        hapticFeedback.selectionChanged = function () {\n            return triggerFeedback({ type: 'selection_change' });\n        };\n        return hapticFeedback;\n    })();\n    var CloudStorage = (function () {\n        var cloudStorage = {};\n        function invokeStorageMethod(method, params, callback) {\n            if (!versionAtLeast('6.9')) {\n                console.error('[Telegram.WebApp] CloudStorage is not supported in version ' + webAppVersion);\n                throw Error('WebAppMethodUnsupported');\n            }\n            invokeCustomMethod(method, params, callback);\n            return cloudStorage;\n        }\n        cloudStorage.setItem = function (key, value, callback) {\n            return invokeStorageMethod('saveStorageValue', { key: key, value: value }, callback);\n        };\n        cloudStorage.getItem = function (key, callback) {\n            return cloudStorage.getItems([key], callback ? function (err, res) {\n                if (err)\n                    callback(err);\n                else\n                    callback(null, res[key]);\n            } : null);\n        };\n        cloudStorage.getItems = function (keys, callback) {\n            return invokeStorageMethod('getStorageValues', { keys: keys }, callback);\n        };\n        cloudStorage.removeItem = function (key, callback) {\n            return cloudStorage.removeItems([key], callback);\n        };\n        cloudStorage.removeItems = function (keys, callback) {\n            return invokeStorageMethod('deleteStorageValues', { keys: keys }, callback);\n        };\n        cloudStorage.getKeys = function (callback) {\n            return invokeStorageMethod('getStorageKeys', {}, callback);\n        };\n        return cloudStorage;\n    })();\n    var BiometricManager = (function () {\n        var isInited = false;\n        var isBiometricAvailable = false;\n        var biometricType = 'unknown';\n        var isAccessRequested = false;\n        var isAccessGranted = false;\n        var isBiometricTokenSaved = false;\n        var deviceId = '';\n        var biometricManager = {};\n        Object.defineProperty(biometricManager, 'isInited', {\n            get: function () { return isInited; },\n            enumerable: true\n        });\n        Object.defineProperty(biometricManager, 'isBiometricAvailable', {\n            get: function () { return isInited && isBiometricAvailable; },\n            enumerable: true\n        });\n        Object.defineProperty(biometricManager, 'biometricType', {\n            get: function () { return biometricType || 'unknown'; },\n            enumerable: true\n        });\n        Object.defineProperty(biometricManager, 'isAccessRequested', {\n            get: function () { return isAccessRequested; },\n            enumerable: true\n        });\n        Object.defineProperty(biometricManager, 'isAccessGranted', {\n            get: function () { return isAccessRequested && isAccessGranted; },\n            enumerable: true\n        });\n        Object.defineProperty(biometricManager, 'isBiometricTokenSaved', {\n            get: function () { return isBiometricTokenSaved; },\n            enumerable: true\n        });\n        Object.defineProperty(biometricManager, 'deviceId', {\n            get: function () { return deviceId || ''; },\n            enumerable: true\n        });\n        var initRequestState = { callbacks: [] };\n        var accessRequestState = false;\n        var authRequestState = false;\n        var tokenRequestState = false;\n        WebView.onEvent('biometry_info_received', onBiometryInfoReceived);\n        WebView.onEvent('biometry_auth_requested', onBiometryAuthRequested);\n        WebView.onEvent('biometry_token_updated', onBiometryTokenUpdated);\n        function onBiometryInfoReceived(eventType, eventData) {\n            isInited = true;\n            if (eventData.available) {\n                isBiometricAvailable = true;\n                biometricType = eventData.type || 'unknown';\n                if (eventData.access_requested) {\n                    isAccessRequested = true;\n                    isAccessGranted = !!eventData.access_granted;\n                    isBiometricTokenSaved = !!eventData.token_saved;\n                }\n                else {\n                    isAccessRequested = false;\n                    isAccessGranted = false;\n                    isBiometricTokenSaved = false;\n                }\n            }\n            else {\n                isBiometricAvailable = false;\n                biometricType = 'unknown';\n                isAccessRequested = false;\n                isAccessGranted = false;\n                isBiometricTokenSaved = false;\n            }\n            deviceId = eventData.device_id || '';\n            if (initRequestState.callbacks.length > 0) {\n                for (var i = 0; i < initRequestState.callbacks.length; i++) {\n                    var callback = initRequestState.callbacks[i];\n                    callback();\n                }\n                initRequestState.callbacks = [];\n            }\n            if (accessRequestState) {\n                var state = accessRequestState;\n                accessRequestState = false;\n                if (state.callback) {\n                    state.callback(isAccessGranted);\n                }\n            }\n            receiveWebViewEvent('biometricManagerUpdated');\n        }\n        function onBiometryAuthRequested(eventType, eventData) {\n            var isAuthenticated = (eventData.status == 'authorized'), biometricToken = eventData.token || '';\n            if (authRequestState) {\n                var state = authRequestState;\n                authRequestState = false;\n                if (state.callback) {\n                    state.callback(isAuthenticated, isAuthenticated ? biometricToken : null);\n                }\n            }\n            receiveWebViewEvent('biometricAuthRequested', isAuthenticated ? {\n                isAuthenticated: true,\n                biometricToken: biometricToken\n            } : {\n                isAuthenticated: false\n            });\n        }\n        function onBiometryTokenUpdated(eventType, eventData) {\n            var applied = false;\n            if (isBiometricAvailable &&\n                isAccessRequested) {\n                if (eventData.status == 'updated') {\n                    isBiometricTokenSaved = true;\n                    applied = true;\n                }\n                else if (eventData.status == 'removed') {\n                    isBiometricTokenSaved = false;\n                    applied = true;\n                }\n            }\n            if (tokenRequestState) {\n                var state = tokenRequestState;\n                tokenRequestState = false;\n                if (state.callback) {\n                    state.callback(applied);\n                }\n            }\n            receiveWebViewEvent('biometricTokenUpdated', {\n                isUpdated: applied\n            });\n        }\n        function checkVersion() {\n            if (!versionAtLeast('7.2')) {\n                console.warn('[Telegram.WebApp] BiometricManager is not supported in version ' + webAppVersion);\n                return false;\n            }\n            return true;\n        }\n        function checkInit() {\n            if (!isInited) {\n                console.error('[Telegram.WebApp] BiometricManager should be inited before using.');\n                throw Error('WebAppBiometricManagerNotInited');\n            }\n            return true;\n        }\n        biometricManager.init = function (callback) {\n            if (!checkVersion()) {\n                return biometricManager;\n            }\n            if (isInited) {\n                return biometricManager;\n            }\n            if (callback) {\n                initRequestState.callbacks.push(callback);\n            }\n            WebView.postEvent('web_app_biometry_get_info', false);\n            return biometricManager;\n        };\n        biometricManager.requestAccess = function (params, callback) {\n            if (!checkVersion()) {\n                return biometricManager;\n            }\n            checkInit();\n            if (!isBiometricAvailable) {\n                console.error('[Telegram.WebApp] Biometrics is not available on this device.');\n                throw Error('WebAppBiometricManagerBiometricsNotAvailable');\n            }\n            if (accessRequestState) {\n                console.error('[Telegram.WebApp] Access is already requested');\n                throw Error('WebAppBiometricManagerAccessRequested');\n            }\n            var popup_params = {};\n            if (typeof params.reason !== 'undefined') {\n                var reason = strTrim(params.reason);\n                if (reason.length > 128) {\n                    console.error('[Telegram.WebApp] Biometric reason is too long', reason);\n                    throw Error('WebAppBiometricRequestAccessParamInvalid');\n                }\n                if (reason.length > 0) {\n                    popup_params.reason = reason;\n                }\n            }\n            accessRequestState = {\n                callback: callback\n            };\n            WebView.postEvent('web_app_biometry_request_access', false, popup_params);\n            return biometricManager;\n        };\n        biometricManager.authenticate = function (params, callback) {\n            if (!checkVersion()) {\n                return biometricManager;\n            }\n            checkInit();\n            if (!isBiometricAvailable) {\n                console.error('[Telegram.WebApp] Biometrics is not available on this device.');\n                throw Error('WebAppBiometricManagerBiometricsNotAvailable');\n            }\n            if (!isAccessGranted) {\n                console.error('[Telegram.WebApp] Biometric access was not granted by the user.');\n                throw Error('WebAppBiometricManagerBiometricAccessNotGranted');\n            }\n            if (authRequestState) {\n                console.error('[Telegram.WebApp] Authentication request is already in progress.');\n                throw Error('WebAppBiometricManagerAuthenticationRequested');\n            }\n            var popup_params = {};\n            if (typeof params.reason !== 'undefined') {\n                var reason = strTrim(params.reason);\n                if (reason.length > 128) {\n                    console.error('[Telegram.WebApp] Biometric reason is too long', reason);\n                    throw Error('WebAppBiometricRequestAccessParamInvalid');\n                }\n                if (reason.length > 0) {\n                    popup_params.reason = reason;\n                }\n            }\n            authRequestState = {\n                callback: callback\n            };\n            WebView.postEvent('web_app_biometry_request_auth', false, popup_params);\n            return biometricManager;\n        };\n        biometricManager.updateBiometricToken = function (token, callback) {\n            if (!checkVersion()) {\n                return biometricManager;\n            }\n            token = token || '';\n            if (token.length > 1024) {\n                console.error('[Telegram.WebApp] Token is too long', token);\n                throw Error('WebAppBiometricManagerTokenInvalid');\n            }\n            checkInit();\n            if (!isBiometricAvailable) {\n                console.error('[Telegram.WebApp] Biometrics is not available on this device.');\n                throw Error('WebAppBiometricManagerBiometricsNotAvailable');\n            }\n            if (!isAccessGranted) {\n                console.error('[Telegram.WebApp] Biometric access was not granted by the user.');\n                throw Error('WebAppBiometricManagerBiometricAccessNotGranted');\n            }\n            if (tokenRequestState) {\n                console.error('[Telegram.WebApp] Token request is already in progress.');\n                throw Error('WebAppBiometricManagerTokenUpdateRequested');\n            }\n            tokenRequestState = {\n                callback: callback\n            };\n            WebView.postEvent('web_app_biometry_update_token', false, { token: token });\n            return biometricManager;\n        };\n        biometricManager.openSettings = function () {\n            if (!checkVersion()) {\n                return biometricManager;\n            }\n            checkInit();\n            if (!isBiometricAvailable) {\n                console.error('[Telegram.WebApp] Biometrics is not available on this device.');\n                throw Error('WebAppBiometricManagerBiometricsNotAvailable');\n            }\n            if (!isAccessRequested) {\n                console.error('[Telegram.WebApp] Biometric access was not requested yet.');\n                throw Error('WebAppBiometricManagerBiometricsAccessNotRequested');\n            }\n            if (isAccessGranted) {\n                console.warn('[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings.');\n                return biometricManager;\n            }\n            WebView.postEvent('web_app_biometry_open_settings', false);\n            return biometricManager;\n        };\n        return biometricManager;\n    })();\n    var LocationManager = (function () {\n        var isInited = false;\n        var isLocationAvailable = false;\n        var isAccessRequested = false;\n        var isAccessGranted = false;\n        var locationManager = {};\n        Object.defineProperty(locationManager, 'isInited', {\n            get: function () { return isInited; },\n            enumerable: true\n        });\n        Object.defineProperty(locationManager, 'isLocationAvailable', {\n            get: function () { return isInited && isLocationAvailable; },\n            enumerable: true\n        });\n        Object.defineProperty(locationManager, 'isAccessRequested', {\n            get: function () { return isAccessRequested; },\n            enumerable: true\n        });\n        Object.defineProperty(locationManager, 'isAccessGranted', {\n            get: function () { return isAccessRequested && isAccessGranted; },\n            enumerable: true\n        });\n        var initRequestState = { callbacks: [] };\n        var getRequestState = { callbacks: [] };\n        WebView.onEvent('location_checked', onLocationChecked);\n        WebView.onEvent('location_requested', onLocationRequested);\n        function onLocationChecked(eventType, eventData) {\n            isInited = true;\n            if (eventData.available) {\n                isLocationAvailable = true;\n                if (eventData.access_requested) {\n                    isAccessRequested = true;\n                    isAccessGranted = !!eventData.access_granted;\n                }\n                else {\n                    isAccessRequested = false;\n                    isAccessGranted = false;\n                }\n            }\n            else {\n                isLocationAvailable = false;\n                isAccessRequested = false;\n                isAccessGranted = false;\n            }\n            if (initRequestState.callbacks.length > 0) {\n                for (var i = 0; i < initRequestState.callbacks.length; i++) {\n                    var callback = initRequestState.callbacks[i];\n                    callback();\n                }\n                initRequestState.callbacks = [];\n            }\n            receiveWebViewEvent('locationManagerUpdated');\n        }\n        function onLocationRequested(eventType, eventData) {\n            if (!eventData.available) {\n                locationData = null;\n            }\n            else {\n                var locationData = {\n                    latitude: eventData.latitude,\n                    longitude: eventData.longitude,\n                    altitude: null,\n                    course: null,\n                    speed: null,\n                    horizontal_accuracy: null,\n                    vertical_accuracy: null,\n                    course_accuracy: null,\n                    speed_accuracy: null,\n                };\n                if (typeof eventData.altitude !== 'undefined' && eventData.altitude !== null) {\n                    locationData.altitude = eventData.altitude;\n                }\n                if (typeof eventData.course !== 'undefined' && eventData.course !== null) {\n                    locationData.course = eventData.course % 360;\n                }\n                if (typeof eventData.speed !== 'undefined' && eventData.speed !== null) {\n                    locationData.speed = eventData.speed;\n                }\n                if (typeof eventData.horizontal_accuracy !== 'undefined' && eventData.horizontal_accuracy !== null) {\n                    locationData.horizontal_accuracy = eventData.horizontal_accuracy;\n                }\n                if (typeof eventData.vertical_accuracy !== 'undefined' && eventData.vertical_accuracy !== null) {\n                    locationData.vertical_accuracy = eventData.vertical_accuracy;\n                }\n                if (typeof eventData.course_accuracy !== 'undefined' && eventData.course_accuracy !== null) {\n                    locationData.course_accuracy = eventData.course_accuracy;\n                }\n                if (typeof eventData.speed_accuracy !== 'undefined' && eventData.speed_accuracy !== null) {\n                    locationData.speed_accuracy = eventData.speed_accuracy;\n                }\n            }\n            if (!eventData.available ||\n                !isLocationAvailable ||\n                !isAccessRequested ||\n                !isAccessGranted) {\n                initRequestState.callbacks.push(function () {\n                    locationResponse(locationData);\n                });\n                WebView.postEvent('web_app_check_location', false);\n            }\n            else {\n                locationResponse(locationData);\n            }\n        }\n        function locationResponse(response) {\n            if (getRequestState.callbacks.length > 0) {\n                for (var i = 0; i < getRequestState.callbacks.length; i++) {\n                    var callback = getRequestState.callbacks[i];\n                    callback(response);\n                }\n                getRequestState.callbacks = [];\n            }\n            if (response !== null) {\n                receiveWebViewEvent('locationRequested', {\n                    locationData: response\n                });\n            }\n        }\n        function checkVersion() {\n            if (!versionAtLeast('8.0')) {\n                console.warn('[Telegram.WebApp] LocationManager is not supported in version ' + webAppVersion);\n                return false;\n            }\n            return true;\n        }\n        function checkInit() {\n            if (!isInited) {\n                console.error('[Telegram.WebApp] LocationManager should be inited before using.');\n                throw Error('WebAppLocationManagerNotInited');\n            }\n            return true;\n        }\n        locationManager.init = function (callback) {\n            if (!checkVersion()) {\n                return locationManager;\n            }\n            if (isInited) {\n                return locationManager;\n            }\n            if (callback) {\n                initRequestState.callbacks.push(callback);\n            }\n            WebView.postEvent('web_app_check_location', false);\n            return locationManager;\n        };\n        locationManager.getLocation = function (callback) {\n            if (!checkVersion()) {\n                return locationManager;\n            }\n            checkInit();\n            if (!isLocationAvailable) {\n                console.error('[Telegram.WebApp] Location is not available on this device.');\n                throw Error('WebAppLocationManagerLocationNotAvailable');\n            }\n            getRequestState.callbacks.push(callback);\n            WebView.postEvent('web_app_request_location');\n            return locationManager;\n        };\n        locationManager.openSettings = function () {\n            if (!checkVersion()) {\n                return locationManager;\n            }\n            checkInit();\n            if (!isLocationAvailable) {\n                console.error('[Telegram.WebApp] Location is not available on this device.');\n                throw Error('WebAppLocationManagerLocationNotAvailable');\n            }\n            if (!isAccessRequested) {\n                console.error('[Telegram.WebApp] Location access was not requested yet.');\n                throw Error('WebAppLocationManagerLocationAccessNotRequested');\n            }\n            if (isAccessGranted) {\n                console.warn('[Telegram.WebApp] Location access was granted by the user, no need to go to settings.');\n                return locationManager;\n            }\n            WebView.postEvent('web_app_open_location_settings', false);\n            return locationManager;\n        };\n        return locationManager;\n    })();\n    var Accelerometer = (function () {\n        var isStarted = false;\n        var valueX = null, valueY = null, valueZ = null;\n        var startCallbacks = [], stopCallbacks = [];\n        var accelerometer = {};\n        Object.defineProperty(accelerometer, 'isStarted', {\n            get: function () { return isStarted; },\n            enumerable: true\n        });\n        Object.defineProperty(accelerometer, 'x', {\n            get: function () { return valueX; },\n            enumerable: true\n        });\n        Object.defineProperty(accelerometer, 'y', {\n            get: function () { return valueY; },\n            enumerable: true\n        });\n        Object.defineProperty(accelerometer, 'z', {\n            get: function () { return valueZ; },\n            enumerable: true\n        });\n        WebView.onEvent('accelerometer_started', onAccelerometerStarted);\n        WebView.onEvent('accelerometer_stopped', onAccelerometerStopped);\n        WebView.onEvent('accelerometer_changed', onAccelerometerChanged);\n        WebView.onEvent('accelerometer_failed', onAccelerometerFailed);\n        function onAccelerometerStarted(eventType, eventData) {\n            isStarted = true;\n            if (startCallbacks.length > 0) {\n                for (var i = 0; i < startCallbacks.length; i++) {\n                    var callback = startCallbacks[i];\n                    callback(true);\n                }\n                startCallbacks = [];\n            }\n            receiveWebViewEvent('accelerometerStarted');\n        }\n        function onAccelerometerStopped(eventType, eventData) {\n            isStarted = false;\n            if (stopCallbacks.length > 0) {\n                for (var i = 0; i < stopCallbacks.length; i++) {\n                    var callback = stopCallbacks[i];\n                    callback(true);\n                }\n                stopCallbacks = [];\n            }\n            receiveWebViewEvent('accelerometerStopped');\n        }\n        function onAccelerometerChanged(eventType, eventData) {\n            valueX = eventData.x;\n            valueY = eventData.y;\n            valueZ = eventData.z;\n            receiveWebViewEvent('accelerometerChanged');\n        }\n        function onAccelerometerFailed(eventType, eventData) {\n            if (startCallbacks.length > 0) {\n                for (var i = 0; i < startCallbacks.length; i++) {\n                    var callback = startCallbacks[i];\n                    callback(false);\n                }\n                startCallbacks = [];\n            }\n            receiveWebViewEvent('accelerometerFailed', {\n                error: eventData.error\n            });\n        }\n        function checkVersion() {\n            if (!versionAtLeast('8.0')) {\n                console.warn('[Telegram.WebApp] Accelerometer is not supported in version ' + webAppVersion);\n                return false;\n            }\n            return true;\n        }\n        accelerometer.start = function (params, callback) {\n            params = params || {};\n            if (!checkVersion()) {\n                return accelerometer;\n            }\n            var req_params = {};\n            var refresh_rate = parseInt(params.refresh_rate || 1000);\n            if (isNaN(refresh_rate) || refresh_rate < 20 || refresh_rate > 1000) {\n                console.warn('[Telegram.WebApp] Accelerometer refresh_rate is invalid', refresh_rate);\n            }\n            else {\n                req_params.refresh_rate = refresh_rate;\n            }\n            if (callback) {\n                startCallbacks.push(callback);\n            }\n            WebView.postEvent('web_app_start_accelerometer', false, req_params);\n            return accelerometer;\n        };\n        accelerometer.stop = function (callback) {\n            if (!checkVersion()) {\n                return accelerometer;\n            }\n            if (callback) {\n                stopCallbacks.push(callback);\n            }\n            WebView.postEvent('web_app_stop_accelerometer');\n            return accelerometer;\n        };\n        return accelerometer;\n    })();\n    var DeviceOrientation = (function () {\n        var isStarted = false;\n        var valueAlpha = null, valueBeta = null, valueGamma = null, valueAbsolute = false;\n        var startCallbacks = [], stopCallbacks = [];\n        var deviceOrientation = {};\n        Object.defineProperty(deviceOrientation, 'isStarted', {\n            get: function () { return isStarted; },\n            enumerable: true\n        });\n        Object.defineProperty(deviceOrientation, 'absolute', {\n            get: function () { return valueAbsolute; },\n            enumerable: true\n        });\n        Object.defineProperty(deviceOrientation, 'alpha', {\n            get: function () { return valueAlpha; },\n            enumerable: true\n        });\n        Object.defineProperty(deviceOrientation, 'beta', {\n            get: function () { return valueBeta; },\n            enumerable: true\n        });\n        Object.defineProperty(deviceOrientation, 'gamma', {\n            get: function () { return valueGamma; },\n            enumerable: true\n        });\n        WebView.onEvent('device_orientation_started', onDeviceOrientationStarted);\n        WebView.onEvent('device_orientation_stopped', onDeviceOrientationStopped);\n        WebView.onEvent('device_orientation_changed', onDeviceOrientationChanged);\n        WebView.onEvent('device_orientation_failed', onDeviceOrientationFailed);\n        function onDeviceOrientationStarted(eventType, eventData) {\n            isStarted = true;\n            if (startCallbacks.length > 0) {\n                for (var i = 0; i < startCallbacks.length; i++) {\n                    var callback = startCallbacks[i];\n                    callback(true);\n                }\n                startCallbacks = [];\n            }\n            receiveWebViewEvent('deviceOrientationStarted');\n        }\n        function onDeviceOrientationStopped(eventType, eventData) {\n            isStarted = false;\n            if (stopCallbacks.length > 0) {\n                for (var i = 0; i < stopCallbacks.length; i++) {\n                    var callback = stopCallbacks[i];\n                    callback(true);\n                }\n                stopCallbacks = [];\n            }\n            receiveWebViewEvent('deviceOrientationStopped');\n        }\n        function onDeviceOrientationChanged(eventType, eventData) {\n            valueAbsolute = !!eventData.absolute;\n            valueAlpha = eventData.alpha;\n            valueBeta = eventData.beta;\n            valueGamma = eventData.gamma;\n            receiveWebViewEvent('deviceOrientationChanged');\n        }\n        function onDeviceOrientationFailed(eventType, eventData) {\n            if (startCallbacks.length > 0) {\n                for (var i = 0; i < startCallbacks.length; i++) {\n                    var callback = startCallbacks[i];\n                    callback(false);\n                }\n                startCallbacks = [];\n            }\n            receiveWebViewEvent('deviceOrientationFailed', {\n                error: eventData.error\n            });\n        }\n        function checkVersion() {\n            if (!versionAtLeast('8.0')) {\n                console.warn('[Telegram.WebApp] DeviceOrientation is not supported in version ' + webAppVersion);\n                return false;\n            }\n            return true;\n        }\n        deviceOrientation.start = function (params, callback) {\n            params = params || {};\n            if (!checkVersion()) {\n                return deviceOrientation;\n            }\n            var req_params = {};\n            var refresh_rate = parseInt(params.refresh_rate || 1000);\n            if (isNaN(refresh_rate) || refresh_rate < 20 || refresh_rate > 1000) {\n                console.warn('[Telegram.WebApp] DeviceOrientation refresh_rate is invalid', refresh_rate);\n            }\n            else {\n                req_params.refresh_rate = refresh_rate;\n            }\n            req_params.need_absolute = !!params.need_absolute;\n            if (callback) {\n                startCallbacks.push(callback);\n            }\n            WebView.postEvent('web_app_start_device_orientation', false, req_params);\n            return deviceOrientation;\n        };\n        deviceOrientation.stop = function (callback) {\n            if (!checkVersion()) {\n                return deviceOrientation;\n            }\n            if (callback) {\n                stopCallbacks.push(callback);\n            }\n            WebView.postEvent('web_app_stop_device_orientation');\n            return deviceOrientation;\n        };\n        return deviceOrientation;\n    })();\n    var Gyroscope = (function () {\n        var isStarted = false;\n        var valueX = null, valueY = null, valueZ = null;\n        var startCallbacks = [], stopCallbacks = [];\n        var gyroscope = {};\n        Object.defineProperty(gyroscope, 'isStarted', {\n            get: function () { return isStarted; },\n            enumerable: true\n        });\n        Object.defineProperty(gyroscope, 'x', {\n            get: function () { return valueX; },\n            enumerable: true\n        });\n        Object.defineProperty(gyroscope, 'y', {\n            get: function () { return valueY; },\n            enumerable: true\n        });\n        Object.defineProperty(gyroscope, 'z', {\n            get: function () { return valueZ; },\n            enumerable: true\n        });\n        WebView.onEvent('gyroscope_started', onGyroscopeStarted);\n        WebView.onEvent('gyroscope_stopped', onGyroscopeStopped);\n        WebView.onEvent('gyroscope_changed', onGyroscopeChanged);\n        WebView.onEvent('gyroscope_failed', onGyroscopeFailed);\n        function onGyroscopeStarted(eventType, eventData) {\n            isStarted = true;\n            if (startCallbacks.length > 0) {\n                for (var i = 0; i < startCallbacks.length; i++) {\n                    var callback = startCallbacks[i];\n                    callback(true);\n                }\n                startCallbacks = [];\n            }\n            receiveWebViewEvent('gyroscopeStarted');\n        }\n        function onGyroscopeStopped(eventType, eventData) {\n            isStarted = false;\n            if (stopCallbacks.length > 0) {\n                for (var i = 0; i < stopCallbacks.length; i++) {\n                    var callback = stopCallbacks[i];\n                    callback(true);\n                }\n                stopCallbacks = [];\n            }\n            receiveWebViewEvent('gyroscopeStopped');\n        }\n        function onGyroscopeChanged(eventType, eventData) {\n            valueX = eventData.x;\n            valueY = eventData.y;\n            valueZ = eventData.z;\n            receiveWebViewEvent('gyroscopeChanged');\n        }\n        function onGyroscopeFailed(eventType, eventData) {\n            if (startCallbacks.length > 0) {\n                for (var i = 0; i < startCallbacks.length; i++) {\n                    var callback = startCallbacks[i];\n                    callback(false);\n                }\n                startCallbacks = [];\n            }\n            receiveWebViewEvent('gyroscopeFailed', {\n                error: eventData.error\n            });\n        }\n        function checkVersion() {\n            if (!versionAtLeast('8.0')) {\n                console.warn('[Telegram.WebApp] Gyroscope is not supported in version ' + webAppVersion);\n                return false;\n            }\n            return true;\n        }\n        gyroscope.start = function (params, callback) {\n            params = params || {};\n            if (!checkVersion()) {\n                return gyroscope;\n            }\n            var req_params = {};\n            var refresh_rate = parseInt(params.refresh_rate || 1000);\n            if (isNaN(refresh_rate) || refresh_rate < 20 || refresh_rate > 1000) {\n                console.warn('[Telegram.WebApp] Gyroscope refresh_rate is invalid', refresh_rate);\n            }\n            else {\n                req_params.refresh_rate = refresh_rate;\n            }\n            if (callback) {\n                startCallbacks.push(callback);\n            }\n            WebView.postEvent('web_app_start_gyroscope', false, req_params);\n            return gyroscope;\n        };\n        gyroscope.stop = function (callback) {\n            if (!checkVersion()) {\n                return gyroscope;\n            }\n            if (callback) {\n                stopCallbacks.push(callback);\n            }\n            WebView.postEvent('web_app_stop_gyroscope');\n            return gyroscope;\n        };\n        return gyroscope;\n    })();\n    var webAppInvoices = {};\n    function onInvoiceClosed(eventType, eventData) {\n        if (eventData.slug && webAppInvoices[eventData.slug]) {\n            var invoiceData = webAppInvoices[eventData.slug];\n            delete webAppInvoices[eventData.slug];\n            if (invoiceData.callback) {\n                invoiceData.callback(eventData.status);\n            }\n            receiveWebViewEvent('invoiceClosed', {\n                url: invoiceData.url,\n                status: eventData.status\n            });\n        }\n    }\n    var webAppPopupOpened = false;\n    function onPopupClosed(eventType, eventData) {\n        if (webAppPopupOpened) {\n            var popupData = webAppPopupOpened;\n            webAppPopupOpened = false;\n            var button_id = null;\n            if (typeof eventData.button_id !== 'undefined') {\n                button_id = eventData.button_id;\n            }\n            if (popupData.callback) {\n                popupData.callback(button_id);\n            }\n            receiveWebViewEvent('popupClosed', {\n                button_id: button_id\n            });\n        }\n    }\n    var webAppScanQrPopupOpened = false;\n    function onQrTextReceived(eventType, eventData) {\n        if (webAppScanQrPopupOpened) {\n            var popupData = webAppScanQrPopupOpened;\n            var data = null;\n            if (typeof eventData.data !== 'undefined') {\n                data = eventData.data;\n            }\n            if (popupData.callback) {\n                if (popupData.callback(data)) {\n                    webAppScanQrPopupOpened = false;\n                    WebView.postEvent('web_app_close_scan_qr_popup', false);\n                }\n            }\n            receiveWebViewEvent('qrTextReceived', {\n                data: data\n            });\n        }\n    }\n    function onScanQrPopupClosed(eventType, eventData) {\n        webAppScanQrPopupOpened = false;\n        receiveWebViewEvent('scanQrPopupClosed');\n    }\n    function onClipboardTextReceived(eventType, eventData) {\n        if (eventData.req_id && webAppCallbacks[eventData.req_id]) {\n            var requestData = webAppCallbacks[eventData.req_id];\n            delete webAppCallbacks[eventData.req_id];\n            var data = null;\n            if (typeof eventData.data !== 'undefined') {\n                data = eventData.data;\n            }\n            if (requestData.callback) {\n                requestData.callback(data);\n            }\n            receiveWebViewEvent('clipboardTextReceived', {\n                data: data\n            });\n        }\n    }\n    var WebAppWriteAccessRequested = false;\n    function onWriteAccessRequested(eventType, eventData) {\n        if (WebAppWriteAccessRequested) {\n            var requestData = WebAppWriteAccessRequested;\n            WebAppWriteAccessRequested = false;\n            if (requestData.callback) {\n                requestData.callback(eventData.status == 'allowed');\n            }\n            receiveWebViewEvent('writeAccessRequested', {\n                status: eventData.status\n            });\n        }\n    }\n    function getRequestedContact(callback, timeout) {\n        var reqTo, fallbackTo, reqDelay = 0;\n        var reqInvoke = function () {\n            invokeCustomMethod('getRequestedContact', {}, function (err, res) {\n                if (res && res.length) {\n                    clearTimeout(fallbackTo);\n                    callback(res);\n                }\n                else {\n                    reqDelay += 50;\n                    reqTo = setTimeout(reqInvoke, reqDelay);\n                }\n            });\n        };\n        var fallbackInvoke = function () {\n            clearTimeout(reqTo);\n            callback('');\n        };\n        fallbackTo = setTimeout(fallbackInvoke, timeout);\n        reqInvoke();\n    }\n    var WebAppContactRequested = false;\n    function onPhoneRequested(eventType, eventData) {\n        if (WebAppContactRequested) {\n            var requestData = WebAppContactRequested;\n            WebAppContactRequested = false;\n            var requestSent = eventData.status == 'sent';\n            var webViewEvent = {\n                status: eventData.status\n            };\n            if (requestSent) {\n                getRequestedContact(function (res) {\n                    if (res && res.length) {\n                        webViewEvent.response = res;\n                        webViewEvent.responseUnsafe = Utils.urlParseQueryString(res);\n                        for (var key in webViewEvent.responseUnsafe) {\n                            var val = webViewEvent.responseUnsafe[key];\n                            try {\n                                if (val.substr(0, 1) == '{' && val.substr(-1) == '}' ||\n                                    val.substr(0, 1) == '[' && val.substr(-1) == ']') {\n                                    webViewEvent.responseUnsafe[key] = JSON.parse(val);\n                                }\n                            }\n                            catch (e) { }\n                        }\n                    }\n                    if (requestData.callback) {\n                        requestData.callback(requestSent, webViewEvent);\n                    }\n                    receiveWebViewEvent('contactRequested', webViewEvent);\n                }, 3000);\n            }\n            else {\n                if (requestData.callback) {\n                    requestData.callback(requestSent, webViewEvent);\n                }\n                receiveWebViewEvent('contactRequested', webViewEvent);\n            }\n        }\n    }\n    var webAppDownloadFileRequested = false;\n    function onFileDownloadRequested(eventType, eventData) {\n        if (webAppDownloadFileRequested) {\n            var requestData = webAppDownloadFileRequested;\n            webAppDownloadFileRequested = false;\n            var isDownloading = eventData.status == 'downloading';\n            if (requestData.callback) {\n                requestData.callback(isDownloading);\n            }\n            receiveWebViewEvent('fileDownloadRequested', {\n                status: isDownloading ? 'downloading' : 'cancelled'\n            });\n        }\n    }\n    function onCustomMethodInvoked(eventType, eventData) {\n        if (eventData.req_id && webAppCallbacks[eventData.req_id]) {\n            var requestData = webAppCallbacks[eventData.req_id];\n            delete webAppCallbacks[eventData.req_id];\n            var res = null, err = null;\n            if (typeof eventData.result !== 'undefined') {\n                res = eventData.result;\n            }\n            if (typeof eventData.error !== 'undefined') {\n                err = eventData.error;\n            }\n            if (requestData.callback) {\n                requestData.callback(err, res);\n            }\n        }\n    }\n    function invokeCustomMethod(method, params, callback) {\n        if (!versionAtLeast('6.9')) {\n            console.error('[Telegram.WebApp] Method invokeCustomMethod is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        var req_id = generateCallbackId(16);\n        var req_params = { req_id: req_id, method: method, params: params || {} };\n        webAppCallbacks[req_id] = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_invoke_custom_method', false, req_params);\n    }\n    ;\n    if (!window.Telegram) {\n        window.Telegram = {};\n    }\n    Object.defineProperty(WebApp, 'initData', {\n        get: function () { return webAppInitData; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'initDataUnsafe', {\n        get: function () { return webAppInitDataUnsafe; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'version', {\n        get: function () { return webAppVersion; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'platform', {\n        get: function () { return webAppPlatform; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'colorScheme', {\n        get: function () { return colorScheme; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'themeParams', {\n        get: function () { return themeParams; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'isExpanded', {\n        get: function () { return isExpanded; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'viewportHeight', {\n        get: function () { return (viewportHeight === false ? window.innerHeight : viewportHeight) - bottomBarHeight; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'viewportStableHeight', {\n        get: function () { return (viewportStableHeight === false ? window.innerHeight : viewportStableHeight) - bottomBarHeight; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'safeAreaInset', {\n        get: function () { return safeAreaInset; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'contentSafeAreaInset', {\n        get: function () { return contentSafeAreaInset; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'isClosingConfirmationEnabled', {\n        set: function (val) { setClosingConfirmation(val); },\n        get: function () { return isClosingConfirmationEnabled; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'isVerticalSwipesEnabled', {\n        set: function (val) { toggleVerticalSwipes(val); },\n        get: function () { return isVerticalSwipesEnabled; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'isFullscreen', {\n        get: function () { return webAppIsFullscreen; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'isOrientationLocked', {\n        set: function (val) { toggleOrientationLock(val); },\n        get: function () { return webAppIsOrientationLocked; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'isActive', {\n        get: function () { return webAppIsActive; },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'headerColor', {\n        set: function (val) { setHeaderColor(val); },\n        get: function () { return getHeaderColor(); },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'backgroundColor', {\n        set: function (val) { setBackgroundColor(val); },\n        get: function () { return getBackgroundColor(); },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'bottomBarColor', {\n        set: function (val) { setBottomBarColor(val); },\n        get: function () { return getBottomBarColor(); },\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'BackButton', {\n        value: BackButton,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'MainButton', {\n        value: MainButton,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'SecondaryButton', {\n        value: SecondaryButton,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'SettingsButton', {\n        value: SettingsButton,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'HapticFeedback', {\n        value: HapticFeedback,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'CloudStorage', {\n        value: CloudStorage,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'BiometricManager', {\n        value: BiometricManager,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'Accelerometer', {\n        value: Accelerometer,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'DeviceOrientation', {\n        value: DeviceOrientation,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'Gyroscope', {\n        value: Gyroscope,\n        enumerable: true\n    });\n    Object.defineProperty(WebApp, 'LocationManager', {\n        value: LocationManager,\n        enumerable: true\n    });\n    WebApp.isVersionAtLeast = function (ver) {\n        return versionAtLeast(ver);\n    };\n    WebApp.setHeaderColor = function (color_key) {\n        WebApp.headerColor = color_key;\n    };\n    WebApp.setBackgroundColor = function (color) {\n        WebApp.backgroundColor = color;\n    };\n    WebApp.setBottomBarColor = function (color) {\n        WebApp.bottomBarColor = color;\n    };\n    WebApp.enableClosingConfirmation = function () {\n        WebApp.isClosingConfirmationEnabled = true;\n    };\n    WebApp.disableClosingConfirmation = function () {\n        WebApp.isClosingConfirmationEnabled = false;\n    };\n    WebApp.enableVerticalSwipes = function () {\n        WebApp.isVerticalSwipesEnabled = true;\n    };\n    WebApp.disableVerticalSwipes = function () {\n        WebApp.isVerticalSwipesEnabled = false;\n    };\n    WebApp.lockOrientation = function () {\n        WebApp.isOrientationLocked = true;\n    };\n    WebApp.unlockOrientation = function () {\n        WebApp.isOrientationLocked = false;\n    };\n    WebApp.requestFullscreen = function () {\n        if (!versionAtLeast('8.0')) {\n            console.error('[Telegram.WebApp] Method requestFullscreen is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        WebView.postEvent('web_app_request_fullscreen');\n    };\n    WebApp.exitFullscreen = function () {\n        if (!versionAtLeast('8.0')) {\n            console.error('[Telegram.WebApp] Method exitFullscreen is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        WebView.postEvent('web_app_exit_fullscreen');\n    };\n    WebApp.addToHomeScreen = function () {\n        if (!versionAtLeast('8.0')) {\n            console.error('[Telegram.WebApp] Method addToHomeScreen is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        WebView.postEvent('web_app_add_to_home_screen');\n    };\n    WebApp.checkHomeScreenStatus = function (callback) {\n        if (!versionAtLeast('8.0')) {\n            console.error('[Telegram.WebApp] Method checkHomeScreenStatus is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (callback) {\n            homeScreenCallbacks.push(callback);\n        }\n        WebView.postEvent('web_app_check_home_screen');\n    };\n    WebApp.onEvent = function (eventType, callback) {\n        onWebViewEvent(eventType, callback);\n    };\n    WebApp.offEvent = function (eventType, callback) {\n        offWebViewEvent(eventType, callback);\n    };\n    WebApp.sendData = function (data) {\n        if (!data || !data.length) {\n            console.error('[Telegram.WebApp] Data is required', data);\n            throw Error('WebAppDataInvalid');\n        }\n        if (byteLength(data) > 4096) {\n            console.error('[Telegram.WebApp] Data is too long', data);\n            throw Error('WebAppDataInvalid');\n        }\n        WebView.postEvent('web_app_data_send', false, { data: data });\n    };\n    WebApp.switchInlineQuery = function (query, choose_chat_types) {\n        if (!versionAtLeast('6.6')) {\n            console.error('[Telegram.WebApp] Method switchInlineQuery is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (!initParams.tgWebAppBotInline) {\n            console.error('[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline');\n            throw Error('WebAppInlineModeDisabled');\n        }\n        query = query || '';\n        if (query.length > 256) {\n            console.error('[Telegram.WebApp] Inline query is too long', query);\n            throw Error('WebAppInlineQueryInvalid');\n        }\n        var chat_types = [];\n        if (choose_chat_types) {\n            if (!Array.isArray(choose_chat_types)) {\n                console.error('[Telegram.WebApp] Choose chat types should be an array', choose_chat_types);\n                throw Error('WebAppInlineChooseChatTypesInvalid');\n            }\n            var good_types = { users: 1, bots: 1, groups: 1, channels: 1 };\n            for (var i = 0; i < choose_chat_types.length; i++) {\n                var chat_type = choose_chat_types[i];\n                if (!good_types[chat_type]) {\n                    console.error('[Telegram.WebApp] Choose chat type is invalid', chat_type);\n                    throw Error('WebAppInlineChooseChatTypeInvalid');\n                }\n                if (good_types[chat_type] != 2) {\n                    good_types[chat_type] = 2;\n                    chat_types.push(chat_type);\n                }\n            }\n        }\n        WebView.postEvent('web_app_switch_inline_query', false, { query: query, chat_types: chat_types });\n    };\n    WebApp.openLink = function (url, options) {\n        var a = document.createElement('A');\n        a.href = url;\n        if (a.protocol != 'http:' &&\n            a.protocol != 'https:') {\n            console.error('[Telegram.WebApp] Url protocol is not supported', url);\n            throw Error('WebAppTgUrlInvalid');\n        }\n        var url = a.href;\n        options = options || {};\n        if (versionAtLeast('6.1')) {\n            var req_params = { url: url };\n            if (versionAtLeast('6.4') && options.try_instant_view) {\n                req_params.try_instant_view = true;\n            }\n            if (versionAtLeast('7.6') && options.try_browser) {\n                req_params.try_browser = options.try_browser;\n            }\n            WebView.postEvent('web_app_open_link', false, req_params);\n        }\n        else {\n            window.open(url, '_blank');\n        }\n    };\n    WebApp.openTelegramLink = function (url, options) {\n        var a = document.createElement('A');\n        a.href = url;\n        if (a.protocol != 'http:' &&\n            a.protocol != 'https:') {\n            console.error('[Telegram.WebApp] Url protocol is not supported', url);\n            throw Error('WebAppTgUrlInvalid');\n        }\n        if (a.hostname != 't.me') {\n            console.error('[Telegram.WebApp] Url host is not supported', url);\n            throw Error('WebAppTgUrlInvalid');\n        }\n        var path_full = a.pathname + a.search;\n        options = options || {};\n        if (isIframe || versionAtLeast('6.1')) {\n            var req_params = { path_full: path_full };\n            if (options.force_request) {\n                req_params.force_request = true;\n            }\n            WebView.postEvent('web_app_open_tg_link', false, req_params);\n        }\n        else {\n            location.href = 'https://t.me' + path_full;\n        }\n    };\n    WebApp.openInvoice = function (url, callback) {\n        var a = document.createElement('A'), match, slug;\n        a.href = url;\n        if (a.protocol != 'http:' &&\n            a.protocol != 'https:' ||\n            a.hostname != 't.me' ||\n            !(match = a.pathname.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/)) ||\n            !(slug = match[2])) {\n            console.error('[Telegram.WebApp] Invoice url is invalid', url);\n            throw Error('WebAppInvoiceUrlInvalid');\n        }\n        if (!versionAtLeast('6.1')) {\n            console.error('[Telegram.WebApp] Method openInvoice is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (webAppInvoices[slug]) {\n            console.error('[Telegram.WebApp] Invoice is already opened');\n            throw Error('WebAppInvoiceOpened');\n        }\n        webAppInvoices[slug] = {\n            url: url,\n            callback: callback\n        };\n        WebView.postEvent('web_app_open_invoice', false, { slug: slug });\n    };\n    WebApp.showPopup = function (params, callback) {\n        if (!versionAtLeast('6.2')) {\n            console.error('[Telegram.WebApp] Method showPopup is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (webAppPopupOpened) {\n            console.error('[Telegram.WebApp] Popup is already opened');\n            throw Error('WebAppPopupOpened');\n        }\n        var title = '';\n        var message = '';\n        var buttons = [];\n        var popup_buttons = {};\n        var popup_params = {};\n        if (typeof params.title !== 'undefined') {\n            title = strTrim(params.title);\n            if (title.length > 64) {\n                console.error('[Telegram.WebApp] Popup title is too long', title);\n                throw Error('WebAppPopupParamInvalid');\n            }\n            if (title.length > 0) {\n                popup_params.title = title;\n            }\n        }\n        if (typeof params.message !== 'undefined') {\n            message = strTrim(params.message);\n        }\n        if (!message.length) {\n            console.error('[Telegram.WebApp] Popup message is required', params.message);\n            throw Error('WebAppPopupParamInvalid');\n        }\n        if (message.length > 256) {\n            console.error('[Telegram.WebApp] Popup message is too long', message);\n            throw Error('WebAppPopupParamInvalid');\n        }\n        popup_params.message = message;\n        if (typeof params.buttons !== 'undefined') {\n            if (!Array.isArray(params.buttons)) {\n                console.error('[Telegram.WebApp] Popup buttons should be an array', params.buttons);\n                throw Error('WebAppPopupParamInvalid');\n            }\n            for (var i = 0; i < params.buttons.length; i++) {\n                var button = params.buttons[i];\n                var btn = {};\n                var id = '';\n                if (typeof button.id !== 'undefined') {\n                    id = button.id.toString();\n                    if (id.length > 64) {\n                        console.error('[Telegram.WebApp] Popup button id is too long', id);\n                        throw Error('WebAppPopupParamInvalid');\n                    }\n                }\n                btn.id = id;\n                var button_type = button.type;\n                if (typeof button_type === 'undefined') {\n                    button_type = 'default';\n                }\n                btn.type = button_type;\n                if (button_type == 'ok' ||\n                    button_type == 'close' ||\n                    button_type == 'cancel') {\n                    // no params needed\n                }\n                else if (button_type == 'default' ||\n                    button_type == 'destructive') {\n                    var text = '';\n                    if (typeof button.text !== 'undefined') {\n                        text = strTrim(button.text);\n                    }\n                    if (!text.length) {\n                        console.error('[Telegram.WebApp] Popup button text is required for type ' + button_type, button.text);\n                        throw Error('WebAppPopupParamInvalid');\n                    }\n                    if (text.length > 64) {\n                        console.error('[Telegram.WebApp] Popup button text is too long', text);\n                        throw Error('WebAppPopupParamInvalid');\n                    }\n                    btn.text = text;\n                }\n                else {\n                    console.error('[Telegram.WebApp] Popup button type is invalid', button_type);\n                    throw Error('WebAppPopupParamInvalid');\n                }\n                buttons.push(btn);\n            }\n        }\n        else {\n            buttons.push({ id: '', type: 'close' });\n        }\n        if (buttons.length < 1) {\n            console.error('[Telegram.WebApp] Popup should have at least one button');\n            throw Error('WebAppPopupParamInvalid');\n        }\n        if (buttons.length > 3) {\n            console.error('[Telegram.WebApp] Popup should not have more than 3 buttons');\n            throw Error('WebAppPopupParamInvalid');\n        }\n        popup_params.buttons = buttons;\n        webAppPopupOpened = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_open_popup', false, popup_params);\n    };\n    WebApp.showAlert = function (message, callback) {\n        WebApp.showPopup({\n            message: message\n        }, callback ? function () { callback(); } : null);\n    };\n    WebApp.showConfirm = function (message, callback) {\n        WebApp.showPopup({\n            message: message,\n            buttons: [\n                { type: 'ok', id: 'ok' },\n                { type: 'cancel' }\n            ]\n        }, callback ? function (button_id) {\n            callback(button_id == 'ok');\n        } : null);\n    };\n    WebApp.showScanQrPopup = function (params, callback) {\n        if (!versionAtLeast('6.4')) {\n            console.error('[Telegram.WebApp] Method showScanQrPopup is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (webAppScanQrPopupOpened) {\n            console.error('[Telegram.WebApp] Popup is already opened');\n            throw Error('WebAppScanQrPopupOpened');\n        }\n        var text = '';\n        var popup_params = {};\n        if (typeof params.text !== 'undefined') {\n            text = strTrim(params.text);\n            if (text.length > 64) {\n                console.error('[Telegram.WebApp] Scan QR popup text is too long', text);\n                throw Error('WebAppScanQrPopupParamInvalid');\n            }\n            if (text.length > 0) {\n                popup_params.text = text;\n            }\n        }\n        webAppScanQrPopupOpened = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_open_scan_qr_popup', false, popup_params);\n    };\n    WebApp.closeScanQrPopup = function () {\n        if (!versionAtLeast('6.4')) {\n            console.error('[Telegram.WebApp] Method closeScanQrPopup is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        webAppScanQrPopupOpened = false;\n        WebView.postEvent('web_app_close_scan_qr_popup', false);\n    };\n    WebApp.readTextFromClipboard = function (callback) {\n        if (!versionAtLeast('6.4')) {\n            console.error('[Telegram.WebApp] Method readTextFromClipboard is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        var req_id = generateCallbackId(16);\n        var req_params = { req_id: req_id };\n        webAppCallbacks[req_id] = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_read_text_from_clipboard', false, req_params);\n    };\n    WebApp.requestWriteAccess = function (callback) {\n        if (!versionAtLeast('6.9')) {\n            console.error('[Telegram.WebApp] Method requestWriteAccess is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (WebAppWriteAccessRequested) {\n            console.error('[Telegram.WebApp] Write access is already requested');\n            throw Error('WebAppWriteAccessRequested');\n        }\n        WebAppWriteAccessRequested = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_request_write_access');\n    };\n    WebApp.requestContact = function (callback) {\n        if (!versionAtLeast('6.9')) {\n            console.error('[Telegram.WebApp] Method requestContact is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (WebAppContactRequested) {\n            console.error('[Telegram.WebApp] Contact is already requested');\n            throw Error('WebAppContactRequested');\n        }\n        WebAppContactRequested = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_request_phone');\n    };\n    WebApp.downloadFile = function (params, callback) {\n        if (!versionAtLeast('8.0')) {\n            console.error('[Telegram.WebApp] Method downloadFile is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (webAppDownloadFileRequested) {\n            console.error('[Telegram.WebApp] Popup is already opened');\n            throw Error('WebAppDownloadFilePopupOpened');\n        }\n        var a = document.createElement('A');\n        var dl_params = {};\n        if (!params || !params.url || !params.url.length) {\n            console.error('[Telegram.WebApp] Url is required');\n            throw Error('WebAppDownloadFileParamInvalid');\n        }\n        a.href = params.url;\n        if (a.protocol != 'https:') {\n            console.error('[Telegram.WebApp] Url protocol is not supported', url);\n            throw Error('WebAppDownloadFileParamInvalid');\n        }\n        dl_params.url = a.href;\n        if (!params || !params.file_name || !params.file_name.length) {\n            console.error('[Telegram.WebApp] File name is required');\n            throw Error('WebAppDownloadFileParamInvalid');\n        }\n        dl_params.file_name = params.file_name;\n        webAppDownloadFileRequested = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_request_file_download', false, dl_params);\n    };\n    WebApp.shareToStory = function (media_url, params) {\n        params = params || {};\n        if (!versionAtLeast('7.8')) {\n            console.error('[Telegram.WebApp] Method shareToStory is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        var a = document.createElement('A');\n        a.href = media_url;\n        if (a.protocol != 'http:' &&\n            a.protocol != 'https:') {\n            console.error('[Telegram.WebApp] Media url protocol is not supported', url);\n            throw Error('WebAppMediaUrlInvalid');\n        }\n        var share_params = {};\n        share_params.media_url = a.href;\n        if (typeof params.text !== 'undefined') {\n            var text = strTrim(params.text);\n            if (text.length > 2048) {\n                console.error('[Telegram.WebApp] Text is too long', text);\n                throw Error('WebAppShareToStoryParamInvalid');\n            }\n            if (text.length > 0) {\n                share_params.text = text;\n            }\n        }\n        if (typeof params.widget_link !== 'undefined') {\n            params.widget_link = params.widget_link || {};\n            a.href = params.widget_link.url;\n            if (a.protocol != 'http:' &&\n                a.protocol != 'https:') {\n                console.error('[Telegram.WebApp] Link protocol is not supported', url);\n                throw Error('WebAppShareToStoryParamInvalid');\n            }\n            var widget_link = {\n                url: a.href\n            };\n            if (typeof params.widget_link.name !== 'undefined') {\n                var link_name = strTrim(params.widget_link.name);\n                if (link_name.length > 48) {\n                    console.error('[Telegram.WebApp] Link name is too long', link_name);\n                    throw Error('WebAppShareToStoryParamInvalid');\n                }\n                if (link_name.length > 0) {\n                    widget_link.name = link_name;\n                }\n            }\n            share_params.widget_link = widget_link;\n        }\n        WebView.postEvent('web_app_share_to_story', false, share_params);\n    };\n    WebApp.shareMessage = function (msg_id, callback) {\n        if (!versionAtLeast('8.0')) {\n            console.error('[Telegram.WebApp] Method shareMessage is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (WebAppShareMessageOpened) {\n            console.error('[Telegram.WebApp] Share message is already opened');\n            throw Error('WebAppShareMessageOpened');\n        }\n        WebAppShareMessageOpened = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_send_prepared_message', false, { id: msg_id });\n    };\n    WebApp.setEmojiStatus = function (custom_emoji_id, params, callback) {\n        params = params || {};\n        if (!versionAtLeast('8.0')) {\n            console.error('[Telegram.WebApp] Method setEmojiStatus is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        var status_params = {};\n        status_params.custom_emoji_id = custom_emoji_id;\n        if (typeof params.duration !== 'undefined') {\n            status_params.duration = params.duration;\n        }\n        if (WebAppEmojiStatusRequested) {\n            console.error('[Telegram.WebApp] Emoji status is already requested');\n            throw Error('WebAppEmojiStatusRequested');\n        }\n        WebAppEmojiStatusRequested = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_set_emoji_status', false, status_params);\n    };\n    WebApp.requestEmojiStatusAccess = function (callback) {\n        if (!versionAtLeast('8.0')) {\n            console.error('[Telegram.WebApp] Method requestEmojiStatusAccess is not supported in version ' + webAppVersion);\n            throw Error('WebAppMethodUnsupported');\n        }\n        if (WebAppEmojiStatusAccessRequested) {\n            console.error('[Telegram.WebApp] Emoji status permission is already requested');\n            throw Error('WebAppEmojiStatusAccessRequested');\n        }\n        WebAppEmojiStatusAccessRequested = {\n            callback: callback\n        };\n        WebView.postEvent('web_app_request_emoji_status_access');\n    };\n    WebApp.invokeCustomMethod = function (method, params, callback) {\n        invokeCustomMethod(method, params, callback);\n    };\n    WebApp.ready = function () {\n        WebView.postEvent('web_app_ready');\n    };\n    WebApp.expand = function () {\n        WebView.postEvent('web_app_expand');\n    };\n    WebApp.close = function (options) {\n        options = options || {};\n        var req_params = {};\n        if (versionAtLeast('7.6') && options.return_back) {\n            req_params.return_back = true;\n        }\n        WebView.postEvent('web_app_close', false, req_params);\n    };\n    window.Telegram.WebApp = WebApp;\n    updateHeaderColor();\n    updateBackgroundColor();\n    updateBottomBarColor();\n    setViewportHeight();\n    if (initParams.tgWebAppShowSettings) {\n        SettingsButton.show();\n    }\n    window.addEventListener('resize', onWindowResize);\n    if (isIframe) {\n        document.addEventListener('click', linkHandler);\n    }\n    WebView.onEvent('theme_changed', onThemeChanged);\n    WebView.onEvent('viewport_changed', onViewportChanged);\n    WebView.onEvent('safe_area_changed', onSafeAreaChanged);\n    WebView.onEvent('content_safe_area_changed', onContentSafeAreaChanged);\n    WebView.onEvent('visibility_changed', onVisibilityChanged);\n    WebView.onEvent('invoice_closed', onInvoiceClosed);\n    WebView.onEvent('popup_closed', onPopupClosed);\n    WebView.onEvent('qr_text_received', onQrTextReceived);\n    WebView.onEvent('scan_qr_popup_closed', onScanQrPopupClosed);\n    WebView.onEvent('clipboard_text_received', onClipboardTextReceived);\n    WebView.onEvent('write_access_requested', onWriteAccessRequested);\n    WebView.onEvent('phone_requested', onPhoneRequested);\n    WebView.onEvent('file_download_requested', onFileDownloadRequested);\n    WebView.onEvent('custom_method_invoked', onCustomMethodInvoked);\n    WebView.onEvent('fullscreen_changed', onFullscreenChanged);\n    WebView.onEvent('fullscreen_failed', onFullscreenFailed);\n    WebView.onEvent('home_screen_added', onHomeScreenAdded);\n    WebView.onEvent('home_screen_checked', onHomeScreenChecked);\n    WebView.onEvent('prepared_message_sent', onPreparedMessageSent);\n    WebView.onEvent('prepared_message_failed', onPreparedMessageFailed);\n    WebView.onEvent('emoji_status_set', onEmojiStatusSet);\n    WebView.onEvent('emoji_status_failed', onEmojiStatusFailed);\n    WebView.onEvent('emoji_status_access_requested', onEmojiStatusAccessRequested);\n    WebView.postEvent('web_app_request_theme');\n    WebView.postEvent('web_app_request_viewport');\n    WebView.postEvent('web_app_request_safe_area');\n    WebView.postEvent('web_app_request_content_safe_area');\n})();\n//# sourceMappingURL=telegram-web-apps.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebApp = void 0;\nrequire(\"./telegram-web-apps\");\nvar telegramWindow = window;\nexports.WebApp = telegramWindow.Telegram.WebApp;\n//# sourceMappingURL=sdk.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sdk_1 = require(\"./sdk\");\nexports.default = sdk_1.WebApp;\n//# sourceMappingURL=index.js.map"],"mappings":"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"}